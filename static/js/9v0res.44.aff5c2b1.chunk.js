/*! For license information please see 9v0res.44.aff5c2b1.chunk.js.LICENSE.txt */
(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[44],{19642:function(W,i,L){"use strict";L.d(i,{d:function(){return G},h:function(){return g},i:function(){return w},l:function(){return J},o:function(){return u},r:function(){return A}});var h,l,t=L(37762),p=L(4942),x=L(15671),R=L(43144),z=(L(64687),L(56053)),r=[];!function(W){W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT"}(l||(l={}));var N={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},I=l.INFO,s=(h={},(0,p.b)(h,l.DEBUG,"log"),(0,p.b)(h,l.VERBOSE,"log"),(0,p.b)(h,l.INFO,"info"),(0,p.b)(h,l.WARN,"warn"),(0,p.b)(h,l.ERROR,"error"),h),o=function(W,i){if(!(i<W.logLevel)){var L=(new Date).toISOString(),h=s[i];if(!h)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(i,")"));for(var l,t=arguments.length,p=new Array(t>2?t-2:0),x=2;x<t;x++)p[x-2]=arguments[x];(l=console)[h].apply(l,["[".concat(L,"]  ").concat(W.name,":")].concat(p))}},D=function(){function W(i){(0,x.c)(this,W),this.name=i,this._logLevel=I,this._logHandler=o,this._userLogHandler=null,r.push(this)}return(0,R.d)(W,[{key:"logLevel",get:function(){return this._logLevel},set:function(W){if(!(W in l))throw new TypeError('Invalid value "'.concat(W,'" assigned to `logLevel`'));this._logLevel=W}},{key:"setLogLevel",value:function(W){this._logLevel="string"===typeof W?N[W]:W}},{key:"logHandler",get:function(){return this._logHandler},set:function(W){if("function"!==typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(W){this._userLogHandler=W}},{key:"debug",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.DEBUG].concat(i)),this._logHandler.apply(this,[this,l.DEBUG].concat(i))}},{key:"log",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.VERBOSE].concat(i)),this._logHandler.apply(this,[this,l.VERBOSE].concat(i))}},{key:"info",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.INFO].concat(i)),this._logHandler.apply(this,[this,l.INFO].concat(i))}},{key:"warn",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.WARN].concat(i)),this._logHandler.apply(this,[this,l.WARN].concat(i))}},{key:"error",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.ERROR].concat(i)),this._logHandler.apply(this,[this,l.ERROR].concat(i))}}]),W}();var S=L(97326),C=L(60136),e=L(27277),V=L(28664),c=function(W){for(var i=[],L=0,h=0;h<W.length;h++){var l=W.charCodeAt(h);l<128?i[L++]=l:l<2048?(i[L++]=l>>6|192,i[L++]=63&l|128):55296===(64512&l)&&h+1<W.length&&56320===(64512&W.charCodeAt(h+1))?(l=65536+((1023&l)<<10)+(1023&W.charCodeAt(++h)),i[L++]=l>>18|240,i[L++]=l>>12&63|128,i[L++]=l>>6&63|128,i[L++]=63&l|128):(i[L++]=l>>12|224,i[L++]=l>>6&63|128,i[L++]=63&l|128)}return i};var f=function(W){(0,C.c)(L,W);var i=(0,e.c)(L);function L(W,h,l){var t;return(0,x.c)(this,L),(t=i.call(this,h)).code=W,t.customData=l,t.name="FirebaseError",Object.setPrototypeOf((0,S.e)(t),L.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,S.e)(t),a.prototype.create),t}return(0,R.d)(L)}((0,V.b)(Error)),a=function(){function W(i,L,h){(0,x.c)(this,W),this.service=i,this.serviceName=L,this.errors=h}return(0,R.d)(W,[{key:"create",value:function(W){var i=(arguments.length<=1?void 0:arguments[1])||{},L="".concat(this.service,"/").concat(W),h=this.errors[W],l=h?P(h,i):"Error",t="".concat(this.serviceName,": ").concat(l," (").concat(L,")."),p=new f(L,t,i);return p}}]),W}();function P(W,i){return W.replace(y,(function(W,L){var h=i[L];return null!=h?String(h):"<".concat(L,"?>")}))}var y=/\{\$([^}]+)}/g;function M(W,i){if(W===i)return!0;for(var L=Object.keys(W),h=Object.keys(i),l=0,t=L;l<t.length;l++){var p=t[l];if(!h.includes(p))return!1;var x=W[p],R=i[p];if(b(x)&&b(R)){if(!M(x,R))return!1}else if(x!==R)return!1}for(var z=0,r=h;z<r.length;z++){var N=r[z];if(!L.includes(N))return!1}return!0}function b(W){return null!==W&&"object"===typeof W}var j,Z;var X=function(){function W(i){(0,x.c)(this,W),this.container=i}return(0,R.d)(W,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(W){if(function(W){var i=W.getComponent();return"VERSION"===(null===i||void 0===i?void 0:i.type)}(W)){var i=W.getImmediate();return"".concat(i.library,"/").concat(i.version)}return null})).filter((function(W){return W})).join(" ")}}]),W}();var T="@firebase/app",F="0.7.4",q=new D("@firebase/app"),H="[DEFAULT]",k=(j={},(0,p.b)(j,T,"fire-core"),(0,p.b)(j,"@firebase/app-compat","fire-core-compat"),(0,p.b)(j,"@firebase/analytics","fire-analytics"),(0,p.b)(j,"@firebase/analytics-compat","fire-analytics-compat"),(0,p.b)(j,"@firebase/app-check","fire-app-check"),(0,p.b)(j,"@firebase/app-check-compat","fire-app-check-compat"),(0,p.b)(j,"@firebase/auth","fire-auth"),(0,p.b)(j,"@firebase/auth-compat","fire-auth-compat"),(0,p.b)(j,"@firebase/database","fire-rtdb"),(0,p.b)(j,"@firebase/database-compat","fire-rtdb-compat"),(0,p.b)(j,"@firebase/functions","fire-fn"),(0,p.b)(j,"@firebase/functions-compat","fire-fn-compat"),(0,p.b)(j,"@firebase/installations","fire-iid"),(0,p.b)(j,"@firebase/installations-compat","fire-iid-compat"),(0,p.b)(j,"@firebase/messaging","fire-fcm"),(0,p.b)(j,"@firebase/messaging-compat","fire-fcm-compat"),(0,p.b)(j,"@firebase/performance","fire-perf"),(0,p.b)(j,"@firebase/performance-compat","fire-perf-compat"),(0,p.b)(j,"@firebase/remote-config","fire-rc"),(0,p.b)(j,"@firebase/remote-config-compat","fire-rc-compat"),(0,p.b)(j,"@firebase/storage","fire-gcs"),(0,p.b)(j,"@firebase/storage-compat","fire-gcs-compat"),(0,p.b)(j,"@firebase/firestore","fire-fst"),(0,p.b)(j,"@firebase/firestore-compat","fire-fst-compat"),(0,p.b)(j,"fire-js","fire-js"),(0,p.b)(j,"firebase","fire-js-all"),j),U=new Map,d=new Map;function B(W,i){try{W.container.addComponent(i)}catch(L){q.debug("Component ".concat(i.name," failed to register with FirebaseApp ").concat(W.name),L)}}function w(W){var i=W.name;if(d.has(i))return q.debug("There were multiple attempts to register component ".concat(i,".")),!1;d.set(i,W);var L,h=(0,t.d)(U.values());try{for(h.s();!(L=h.n()).done;){B(L.value,W)}}catch(W){h.e(W)}finally{h.f()}return!0}function g(W,i){return W.container.getProvider(i)}var n,m=(Z={},(0,p.b)(Z,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,p.b)(Z,"bad-app-name","Illegal App name: '{$appName}"),(0,p.b)(Z,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,p.b)(Z,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,p.b)(Z,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,p.b)(Z,"invalid-log-argument","First argument to `onLog` must be null or a function."),Z),E=new a("app","Firebase",m),K=function(){function W(i,L,h){var l=this;(0,x.c)(this,W),this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},L),this._name=L.name,this._automaticDataCollectionEnabled=L.automaticDataCollectionEnabled,this._container=h,this.container.addComponent(new z.g("app",(function(){return l}),"PUBLIC"))}return(0,R.d)(W,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(W){this._isDeleted=W}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw E.create("app-deleted",{appName:this._name})}}]),W}(),G="9.1.3";function u(W){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof i){var L=i;i={name:L}}var h=Object.assign({name:H,automaticDataCollectionEnabled:!1},i),l=h.name;if("string"!==typeof l||!l)throw E.create("bad-app-name",{appName:String(l)});var p=U.get(l);if(p){if(M(W,p.options)&&M(h,p.config))return p;throw E.create("duplicate-app",{appName:l})}var x,R=new z.e(l),r=(0,t.d)(d.values());try{for(r.s();!(x=r.n()).done;){var N=x.value;R.addComponent(N)}}catch(W){r.e(W)}finally{r.f()}var I=new K(W,h,R);return U.set(l,I),I}function J(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,i=U.get(W);if(!i)throw E.create("no-app",{appName:W});return i}function A(W,i,L){var h,l=null!==(h=k[W])&&void 0!==h?h:W;L&&(l+="-".concat(L));var t=l.match(/\s|\//),p=i.match(/\s|\//);if(t||p){var x=['Unable to register library "'.concat(l,'" with version "').concat(i,'":')];return t&&x.push('library name "'.concat(l,'" contains illegal characters (whitespace or "/")')),t&&p&&x.push("and"),p&&x.push('version name "'.concat(i,'" contains illegal characters (whitespace or "/")')),void q.warn(x.join(" "))}w(new z.g("".concat(l,"-version"),(function(){return{library:l,version:i}}),"VERSION"))}n="",w(new z.g("platform-logger",(function(W){return new X(W)}),"PRIVATE")),A(T,F,n),A(T,F,"esm2017"),A("fire-js","")},56053:function(W,i,L){"use strict";L.d(i,{g:function(){return c},e:function(){return P}});function h(W,i,L,h){return new(L||(L=Promise))((function(l,t){function p(W){try{R(h.next(W))}catch(W){t(W)}}function x(W){try{R(h.throw(W))}catch(W){t(W)}}function R(W){var i;W.done?l(W.value):(i=W.value,i instanceof L?i:new L((function(W){W(i)}))).then(p,x)}R((h=h.apply(W,i||[])).next())}))}function l(W,i){var L,h,l,t,p={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return t={next:x(0),throw:x(1),return:x(2)},"function"===typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function x(t){return function(x){return function(t){if(L)throw new TypeError("Generator is already executing.");for(;p;)try{if(L=1,h&&(l=2&t[0]?h.return:t[0]?h.throw||((l=h.return)&&l.call(h),0):h.next)&&!(l=l.call(h,t[1])).done)return l;switch(h=0,l&&(t=[2&t[0],l.value]),t[0]){case 0:case 1:l=t;break;case 4:return p.label++,{value:t[1],done:!1};case 5:p.label++,h=t[1],t=[0];continue;case 7:t=p.ops.pop(),p.trys.pop();continue;default:if(!(l=(l=p.trys).length>0&&l[l.length-1])&&(6===t[0]||2===t[0])){p=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3])){p.label=t[1];break}if(6===t[0]&&p.label<l[1]){p.label=l[1],l=t;break}if(l&&p.label<l[2]){p.label=l[2],p.ops.push(t);break}l[2]&&p.ops.pop(),p.trys.pop();continue}t=i.call(W,p)}catch(W){t=[6,W],h=0}finally{L=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,x])}}}Object.create;function t(W){var i="function"===typeof Symbol&&Symbol.iterator,L=i&&W[i],h=0;if(L)return L.call(W);if(W&&"number"===typeof W.length)return{next:function(){return W&&h>=W.length&&(W=void 0),{value:W&&W[h++],done:!W}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(W,i){var L="function"===typeof Symbol&&W[Symbol.iterator];if(!L)return W;var h,l,t=L.call(W),p=[];try{for(;(void 0===i||i-- >0)&&!(h=t.next()).done;)p.push(h.value)}catch(W){l={error:W}}finally{try{h&&!h.done&&(L=t.return)&&L.call(t)}finally{if(l)throw l.error}}return p}function x(W,i,L){if(L||2===arguments.length)for(var h,l=0,t=i.length;l<t;l++)!h&&l in i||(h||(h=Array.prototype.slice.call(i,0,l)),h[l]=i[l]);return W.concat(h||Array.prototype.slice.call(i))}Object.create;var R=L(97326),z=L(60136),r=L(27277),N=L(28664),I=L(15671),s=L(43144),o=function(W){for(var i=[],L=0,h=0;h<W.length;h++){var l=W.charCodeAt(h);l<128?i[L++]=l:l<2048?(i[L++]=l>>6|192,i[L++]=63&l|128):55296===(64512&l)&&h+1<W.length&&56320===(64512&W.charCodeAt(h+1))?(l=65536+((1023&l)<<10)+(1023&W.charCodeAt(++h)),i[L++]=l>>18|240,i[L++]=l>>12&63|128,i[L++]=l>>6&63|128,i[L++]=63&l|128):(i[L++]=l>>12|224,i[L++]=l>>6&63|128,i[L++]=63&l|128)}return i};var D=function(){function W(){var i=this;(0,I.c)(this,W),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(W,L){i.resolve=W,i.reject=L}))}return(0,s.d)(W,[{key:"wrapCallback",value:function(W){var i=this;return function(L,h){L?i.reject(L):i.resolve(h),"function"===typeof W&&(i.promise.catch((function(){})),1===W.length?W(L):W(L,h))}}}]),W}();var S=function(W){(0,z.c)(L,W);var i=(0,r.c)(L);function L(W,h,l){var t;return(0,I.c)(this,L),(t=i.call(this,h)).code=W,t.customData=l,t.name="FirebaseError",Object.setPrototypeOf((0,R.e)(t),L.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,R.e)(t),C.prototype.create),t}return(0,s.d)(L)}((0,N.b)(Error)),C=function(){function W(i,L,h){(0,I.c)(this,W),this.service=i,this.serviceName=L,this.errors=h}return(0,s.d)(W,[{key:"create",value:function(W){var i=(arguments.length<=1?void 0:arguments[1])||{},L="".concat(this.service,"/").concat(W),h=this.errors[W],l=h?e(h,i):"Error",t="".concat(this.serviceName,": ").concat(l," (").concat(L,")."),p=new S(L,t,i);return p}}]),W}();function e(W,i){return W.replace(V,(function(W,L){var h=i[L];return null!=h?String(h):"<".concat(L,"?>")}))}var V=/\{\$([^}]+)}/g;var c=function(){function W(W,i,L){this.name=W,this.instanceFactory=i,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(W){return this.instantiationMode=W,this},W.prototype.setMultipleInstances=function(W){return this.multipleInstances=W,this},W.prototype.setServiceProps=function(W){return this.serviceProps=W,this},W.prototype.setInstanceCreatedCallback=function(W){return this.onInstanceCreated=W,this},W}(),f="[DEFAULT]",a=function(){function W(W,i){this.name=W,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(W){var i=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(i)){var L=new D;if(this.instancesDeferred.set(i,L),this.isInitialized(i)||this.shouldAutoInitialize())try{var h=this.getOrInitializeService({instanceIdentifier:i});h&&L.resolve(h)}catch(W){}}return this.instancesDeferred.get(i).promise},W.prototype.getImmediate=function(W){var i,L=this.normalizeInstanceIdentifier(null===W||void 0===W?void 0:W.identifier),h=null!==(i=null===W||void 0===W?void 0:W.optional)&&void 0!==i&&i;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(h)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(W){if(h)return null;throw W}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(W){var i,L;if(W.name!==this.name)throw Error("Mismatching Component "+W.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=W,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:f})}catch(W){}try{for(var h=t(this.instancesDeferred.entries()),l=h.next();!l.done;l=h.next()){var x=p(l.value,2),R=x[0],z=x[1],r=this.normalizeInstanceIdentifier(R);try{var N=this.getOrInitializeService({instanceIdentifier:r});z.resolve(N)}catch(W){}}}catch(W){i={error:W}}finally{try{l&&!l.done&&(L=h.return)&&L.call(h)}finally{if(i)throw i.error}}}},W.prototype.clearInstance=function(W){void 0===W&&(W=f),this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)},W.prototype.delete=function(){return h(this,void 0,void 0,(function(){var W;return l(this,(function(i){switch(i.label){case 0:return W=Array.from(this.instances.values()),[4,Promise.all(x(x([],p(W.filter((function(W){return"INTERNAL"in W})).map((function(W){return W.INTERNAL.delete()})))),p(W.filter((function(W){return"_delete"in W})).map((function(W){return W._delete()})))))];case 1:return i.sent(),[2]}}))}))},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(W){return void 0===W&&(W=f),this.instances.has(W)},W.prototype.getOptions=function(W){return void 0===W&&(W=f),this.instancesOptions.get(W)||{}},W.prototype.initialize=function(W){var i,L;void 0===W&&(W={});var h=W.options,l=void 0===h?{}:h,x=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(x))throw Error(this.name+"("+x+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var R=this.getOrInitializeService({instanceIdentifier:x,options:l});try{for(var z=t(this.instancesDeferred.entries()),r=z.next();!r.done;r=z.next()){var N=p(r.value,2),I=N[0],s=N[1];x===this.normalizeInstanceIdentifier(I)&&s.resolve(R)}}catch(W){i={error:W}}finally{try{r&&!r.done&&(L=z.return)&&L.call(z)}finally{if(i)throw i.error}}return R},W.prototype.onInit=function(W,i){var L,h=this.normalizeInstanceIdentifier(i),l=null!==(L=this.onInitCallbacks.get(h))&&void 0!==L?L:new Set;l.add(W),this.onInitCallbacks.set(h,l);var t=this.instances.get(h);return t&&W(t,h),function(){l.delete(W)}},W.prototype.invokeOnInitCallbacks=function(W,i){var L,h,l=this.onInitCallbacks.get(i);if(l)try{for(var p=t(l),x=p.next();!x.done;x=p.next()){var R=x.value;try{R(W,i)}catch(W){}}}catch(W){L={error:W}}finally{try{x&&!x.done&&(h=p.return)&&h.call(p)}finally{if(L)throw L.error}}},W.prototype.getOrInitializeService=function(W){var i,L=W.instanceIdentifier,h=W.options,l=void 0===h?{}:h,t=this.instances.get(L);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(i=L,i===f?void 0:i),options:l}),this.instances.set(L,t),this.instancesOptions.set(L,l),this.invokeOnInitCallbacks(t,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,t)}catch(W){}return t||null},W.prototype.normalizeInstanceIdentifier=function(W){return void 0===W&&(W=f),this.component?this.component.multipleInstances?W:f:W},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();var P=function(){function W(W){this.name=W,this.providers=new Map}return W.prototype.addComponent=function(W){var i=this.getProvider(W.name);if(i.isComponentSet())throw new Error("Component "+W.name+" has already been registered with "+this.name);i.setComponent(W)},W.prototype.addOrOverwriteComponent=function(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)},W.prototype.getProvider=function(W){if(this.providers.has(W))return this.providers.get(W);var i=new a(W,this);return this.providers.set(W,i),i},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},68206:function(W,i,L){"use strict";L.d(i,{d:function(){return iL},e:function(){return hL}});var h,l,t=L(29439),p=L(37762),x=L(15671),R=L(43144),z=L(4942),r=L(15861),N=L(64687),I=L.n(N),s=L(19642),o=[];!function(W){W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT"}(l||(l={}));var D={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},S=l.INFO,C=(h={},(0,z.b)(h,l.DEBUG,"log"),(0,z.b)(h,l.VERBOSE,"log"),(0,z.b)(h,l.INFO,"info"),(0,z.b)(h,l.WARN,"warn"),(0,z.b)(h,l.ERROR,"error"),h),e=function(W,i){if(!(i<W.logLevel)){var L=(new Date).toISOString(),h=C[i];if(!h)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(i,")"));for(var l,t=arguments.length,p=new Array(t>2?t-2:0),x=2;x<t;x++)p[x-2]=arguments[x];(l=console)[h].apply(l,["[".concat(L,"]  ").concat(W.name,":")].concat(p))}},V=function(){function W(i){(0,x.c)(this,W),this.name=i,this._logLevel=S,this._logHandler=e,this._userLogHandler=null,o.push(this)}return(0,R.d)(W,[{key:"logLevel",get:function(){return this._logLevel},set:function(W){if(!(W in l))throw new TypeError('Invalid value "'.concat(W,'" assigned to `logLevel`'));this._logLevel=W}},{key:"setLogLevel",value:function(W){this._logLevel="string"===typeof W?D[W]:W}},{key:"logHandler",get:function(){return this._logHandler},set:function(W){if("function"!==typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(W){this._userLogHandler=W}},{key:"debug",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.DEBUG].concat(i)),this._logHandler.apply(this,[this,l.DEBUG].concat(i))}},{key:"log",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.VERBOSE].concat(i)),this._logHandler.apply(this,[this,l.VERBOSE].concat(i))}},{key:"info",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.INFO].concat(i)),this._logHandler.apply(this,[this,l.INFO].concat(i))}},{key:"warn",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.WARN].concat(i)),this._logHandler.apply(this,[this,l.WARN].concat(i))}},{key:"error",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.ERROR].concat(i)),this._logHandler.apply(this,[this,l.ERROR].concat(i))}}]),W}();var c=L(97326),f=L(60136),a=L(27277),P=L(28664),y=function(W){for(var i=[],L=0,h=0;h<W.length;h++){var l=W.charCodeAt(h);l<128?i[L++]=l:l<2048?(i[L++]=l>>6|192,i[L++]=63&l|128):55296===(64512&l)&&h+1<W.length&&56320===(64512&W.charCodeAt(h+1))?(l=65536+((1023&l)<<10)+(1023&W.charCodeAt(++h)),i[L++]=l>>18|240,i[L++]=l>>12&63|128,i[L++]=l>>6&63|128,i[L++]=63&l|128):(i[L++]=l>>12|224,i[L++]=l>>6&63|128,i[L++]=63&l|128)}return i};function M(){return"object"===typeof indexedDB}function b(){return new Promise((function(W,i){try{var L=!0,h="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(h);l.onsuccess=function(){l.result.close(),L||self.indexedDB.deleteDatabase(h),W(!0)},l.onupgradeneeded=function(){L=!1},l.onerror=function(){var W;i((null===(W=l.error)||void 0===W?void 0:W.message)||"")}}catch(W){i(W)}}))}var j=function(W){(0,f.c)(L,W);var i=(0,a.c)(L);function L(W,h,l){var t;return(0,x.c)(this,L),(t=i.call(this,h)).code=W,t.customData=l,t.name="FirebaseError",Object.setPrototypeOf((0,c.e)(t),L.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,c.e)(t),Z.prototype.create),t}return(0,R.d)(L)}((0,P.b)(Error)),Z=function(){function W(i,L,h){(0,x.c)(this,W),this.service=i,this.serviceName=L,this.errors=h}return(0,R.d)(W,[{key:"create",value:function(W){var i=(arguments.length<=1?void 0:arguments[1])||{},L="".concat(this.service,"/").concat(W),h=this.errors[W],l=h?X(h,i):"Error",t="".concat(this.serviceName,": ").concat(l," (").concat(L,")."),p=new j(L,t,i);return p}}]),W}();function X(W,i){return W.replace(T,(function(W,L){var h=i[L];return null!=h?String(h):"<".concat(L,"?>")}))}var T=/\{\$([^}]+)}/g;function F(W,i){if(W===i)return!0;for(var L=Object.keys(W),h=Object.keys(i),l=0,t=L;l<t.length;l++){var p=t[l];if(!h.includes(p))return!1;var x=W[p],R=i[p];if(q(x)&&q(R)){if(!F(x,R))return!1}else if(x!==R)return!1}for(var z=0,r=h;z<r.length;z++){var N=r[z];if(!L.includes(N))return!1}return!0}function q(W){return null!==W&&"object"===typeof W}var H=144e5;function k(W){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,h=i*Math.pow(L,W),l=Math.round(.5*h*(Math.random()-.5)*2);return Math.min(H,h+l)}function U(W){return W&&W._delegate?W._delegate:W}var d=L(56053),B=L(93433),w=function(W){for(var i=[],L=0,h=0;h<W.length;h++){var l=W.charCodeAt(h);l<128?i[L++]=l:l<2048?(i[L++]=l>>6|192,i[L++]=63&l|128):55296===(64512&l)&&h+1<W.length&&56320===(64512&W.charCodeAt(h+1))?(l=65536+((1023&l)<<10)+(1023&W.charCodeAt(++h)),i[L++]=l>>18|240,i[L++]=l>>12&63|128,i[L++]=l>>6&63|128,i[L++]=63&l|128):(i[L++]=l>>12|224,i[L++]=l>>6&63|128,i[L++]=63&l|128)}return i};var g=function(W){(0,f.c)(L,W);var i=(0,a.c)(L);function L(W,h,l){var t;return(0,x.c)(this,L),(t=i.call(this,h)).code=W,t.customData=l,t.name="FirebaseError",Object.setPrototypeOf((0,c.e)(t),L.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,c.e)(t),n.prototype.create),t}return(0,R.d)(L)}((0,P.b)(Error)),n=function(){function W(i,L,h){(0,x.c)(this,W),this.service=i,this.serviceName=L,this.errors=h}return(0,R.d)(W,[{key:"create",value:function(W){var i=(arguments.length<=1?void 0:arguments[1])||{},L="".concat(this.service,"/").concat(W),h=this.errors[W],l=h?m(h,i):"Error",t="".concat(this.serviceName,": ").concat(l," (").concat(L,")."),p=new g(L,t,i);return p}}]),W}();function m(W,i){return W.replace(E,(function(W,L){var h=i[L];return null!=h?String(h):"<".concat(L,"?>")}))}var E=/\{\$([^}]+)}/g;var K,G=L(64890),u="@firebase/installations",J="0.5.2",A=1e4,v="w:".concat(J),Q="FIS_v2",O=36e5,Y=(K={},(0,z.b)(K,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,z.b)(K,"not-registered","Firebase Installation is not registered."),(0,z.b)(K,"installation-not-found","Firebase Installation not found."),(0,z.b)(K,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),(0,z.b)(K,"app-offline","Could not process request. Application offline."),(0,z.b)(K,"delete-pending-registration","Can't delete installation while there is a pending registration request."),K),WW=new n("installations","Installations",Y);function iW(W){return W instanceof g&&W.code.includes("request-failed")}function LW(W){var i=W.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(i,"/installations")}function hW(W){return{token:W.token,requestStatus:2,expiresIn:(i=W.expiresIn,Number(i.replace("s","000"))),creationTime:Date.now()};var i}function lW(W,i){return tW.apply(this,arguments)}function tW(){return(tW=(0,r.e)(I().mark((function W(i,L){var h,l;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,L.json();case 2:return h=W.sent,l=h.error,W.abrupt("return",WW.create("request-failed",{requestName:i,serverCode:l.code,serverMessage:l.message,serverStatus:l.status}));case 5:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function pW(W){var i=W.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function xW(W,i){var L=i.refreshToken,h=pW(W);return h.append("Authorization",function(W){return"".concat(Q," ").concat(W)}(L)),h}function RW(W){return zW.apply(this,arguments)}function zW(){return(zW=(0,r.e)(I().mark((function W(i){var L;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,i();case 2:if(!((L=W.sent).status>=500&&L.status<600)){W.next=5;break}return W.abrupt("return",i());case 5:return W.abrupt("return",L);case 6:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function rW(W,i){return NW.apply(this,arguments)}function NW(){return(NW=(0,r.e)(I().mark((function W(i,L){var h,l,t,p,x,R,z,r;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=L.fid,l=LW(i),t=pW(i),p={fid:h,authVersion:Q,appId:i.appId,sdkVersion:v},x={method:"POST",headers:t,body:JSON.stringify(p)},W.next=7,RW((function(){return fetch(l,x)}));case 7:if(!(R=W.sent).ok){W.next=16;break}return W.next=11,R.json();case 11:return z=W.sent,r={fid:z.fid||h,registrationStatus:2,refreshToken:z.refreshToken,authToken:hW(z.authToken)},W.abrupt("return",r);case 16:return W.next=18,lW("Create Installation",R);case 18:throw W.sent;case 19:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function IW(W){return new Promise((function(i){setTimeout(i,W)}))}var sW=/^[cdef][\w-]{21}$/;function oW(){try{var W=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(W),W[0]=112+W[0]%16;var i=function(W){return(i=W,btoa(String.fromCharCode.apply(String,(0,B.d)(i))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var i}(W);return sW.test(i)?i:""}catch(W){return""}}function DW(W){return"".concat(W.appName,"!").concat(W.appId)}var SW=new Map;function CW(W,i){var L=DW(W);eW(L,i),function(W,i){var L=cW();L&&L.postMessage({key:W,fid:i});fW()}(L,i)}function eW(W,i){var L=SW.get(W);if(L){var h,l=(0,p.d)(L);try{for(l.s();!(h=l.n()).done;){(0,h.value)(i)}}catch(W){l.e(W)}finally{l.f()}}}var VW=null;function cW(){return!VW&&"BroadcastChannel"in self&&((VW=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(W){eW(W.data.key,W.data.fid)}),VW}function fW(){0===SW.size&&VW&&(VW.close(),VW=null)}var aW="firebase-installations-store",PW=null;function yW(){return PW||(PW=(0,G.openDb)("firebase-installations-database",1,(function(W){if(0===W.oldVersion)W.createObjectStore(aW)}))),PW}function MW(W,i){return bW.apply(this,arguments)}function bW(){return(bW=(0,r.e)(I().mark((function W(i,L){var h,l,t,p,x;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=DW(i),W.next=3,yW();case 3:return l=W.sent,t=l.transaction(aW,"readwrite"),p=t.objectStore(aW),W.next=8,p.get(h);case 8:return x=W.sent,W.next=11,p.put(L,h);case 11:return W.next=13,t.complete;case 13:return x&&x.fid===L.fid||CW(i,L.fid),W.abrupt("return",L);case 15:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function jW(W){return ZW.apply(this,arguments)}function ZW(){return(ZW=(0,r.e)(I().mark((function W(i){var L,h,l;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=DW(i),W.next=3,yW();case 3:return h=W.sent,l=h.transaction(aW,"readwrite"),W.next=7,l.objectStore(aW).delete(L);case 7:return W.next=9,l.complete;case 9:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function XW(W,i){return TW.apply(this,arguments)}function TW(){return(TW=(0,r.e)(I().mark((function W(i,L){var h,l,t,p,x,R;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=DW(i),W.next=3,yW();case 3:return l=W.sent,t=l.transaction(aW,"readwrite"),p=t.objectStore(aW),W.next=8,p.get(h);case 8:if(x=W.sent,void 0!==(R=L(x))){W.next=15;break}return W.next=13,p.delete(h);case 13:W.next=17;break;case 15:return W.next=17,p.put(R,h);case 17:return W.next=19,t.complete;case 19:return!R||x&&x.fid===R.fid||CW(i,R.fid),W.abrupt("return",R);case 21:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function FW(W){return qW.apply(this,arguments)}function qW(){return(qW=(0,r.e)(I().mark((function W(i){var L,h;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,XW(i,(function(W){var h=HW(W),l=kW(i,h);return L=l.registrationPromise,l.installationEntry}));case 2:if(""!==(h=W.sent).fid){W.next=8;break}return W.next=6,L;case 6:return W.t0=W.sent,W.abrupt("return",{installationEntry:W.t0});case 8:return W.abrupt("return",{installationEntry:h,registrationPromise:L});case 9:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function HW(W){return gW(W||{fid:oW(),registrationStatus:0})}function kW(W,i){if(0===i.registrationStatus){if(!navigator.onLine)return{installationEntry:i,registrationPromise:Promise.reject(WW.create("app-offline"))};var L={fid:i.fid,registrationStatus:1,registrationTime:Date.now()},h=function(W,i){return UW.apply(this,arguments)}(W,L);return{installationEntry:L,registrationPromise:h}}return 1===i.registrationStatus?{installationEntry:i,registrationPromise:dW(W)}:{installationEntry:i}}function UW(){return(UW=(0,r.e)(I().mark((function W(i,L){var h;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,rW(i,L);case 3:return h=W.sent,W.abrupt("return",MW(i,h));case 7:if(W.prev=7,W.t0=W.catch(0),!iW(W.t0)||409!==W.t0.customData.serverCode){W.next=14;break}return W.next=12,jW(i);case 12:W.next=16;break;case 14:return W.next=16,MW(i,{fid:L.fid,registrationStatus:0});case 16:throw W.t0;case 17:case"end":return W.stop()}}),W,null,[[0,7]])})))).apply(this,arguments)}function dW(W){return BW.apply(this,arguments)}function BW(){return(BW=(0,r.e)(I().mark((function W(i){var L,h,l,t;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,wW(i);case 2:L=W.sent;case 3:if(1!==L.registrationStatus){W.next=11;break}return W.next=6,IW(100);case 6:return W.next=8,wW(i);case 8:L=W.sent,W.next=3;break;case 11:if(0!==L.registrationStatus){W.next=22;break}return W.next=14,FW(i);case 14:if(h=W.sent,l=h.installationEntry,!(t=h.registrationPromise)){W.next=21;break}return W.abrupt("return",t);case 21:return W.abrupt("return",l);case 22:return W.abrupt("return",L);case 23:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function wW(W){return XW(W,(function(W){if(!W)throw WW.create("installation-not-found");return gW(W)}))}function gW(W){return 1===(i=W).registrationStatus&&i.registrationTime+A<Date.now()?{fid:W.fid,registrationStatus:0}:W;var i}function nW(W,i){return mW.apply(this,arguments)}function mW(){return(mW=(0,r.e)(I().mark((function W(i,L){var h,l,t,p,x,R,z,r,N,s;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=i.appConfig,l=i.platformLoggerProvider,t=EW(h,L),p=xW(h,L),(x=l.getImmediate({optional:!0}))&&p.append("x-firebase-client",x.getPlatformInfoString()),R={installation:{sdkVersion:v}},z={method:"POST",headers:p,body:JSON.stringify(R)},W.next=9,RW((function(){return fetch(t,z)}));case 9:if(!(r=W.sent).ok){W.next=18;break}return W.next=13,r.json();case 13:return N=W.sent,s=hW(N),W.abrupt("return",s);case 18:return W.next=20,lW("Generate Auth Token",r);case 20:throw W.sent;case 21:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function EW(W,i){var L=i.fid;return"".concat(LW(W),"/").concat(L,"/authTokens:generate")}function KW(W){return GW.apply(this,arguments)}function GW(){return GW=(0,r.e)(I().mark((function W(i){var L,h,l,t,p=arguments;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=p.length>1&&void 0!==p[1]&&p[1],W.next=3,XW(i.appConfig,(function(W){if(!OW(W))throw WW.create("not-registered");var l=W.authToken;if(!L&&YW(l))return W;if(1===l.requestStatus)return h=uW(i,L),W;if(!navigator.onLine)throw WW.create("app-offline");var t=Wi(W);return h=vW(i,t),t}));case 3:if(l=W.sent,!h){W.next=10;break}return W.next=7,h;case 7:W.t0=W.sent,W.next=11;break;case 10:W.t0=l.authToken;case 11:return t=W.t0,W.abrupt("return",t);case 13:case"end":return W.stop()}}),W)}))),GW.apply(this,arguments)}function uW(W,i){return JW.apply(this,arguments)}function JW(){return(JW=(0,r.e)(I().mark((function W(i,L){var h,l;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,AW(i.appConfig);case 2:h=W.sent;case 3:if(1!==h.authToken.requestStatus){W.next=11;break}return W.next=6,IW(100);case 6:return W.next=8,AW(i.appConfig);case 8:h=W.sent,W.next=3;break;case 11:if(0!==(l=h.authToken).requestStatus){W.next=16;break}return W.abrupt("return",KW(i,L));case 16:return W.abrupt("return",l);case 17:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function AW(W){return XW(W,(function(W){if(!OW(W))throw WW.create("not-registered");var i,L=W.authToken;return 1===(i=L).requestStatus&&i.requestTime+A<Date.now()?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W}))}function vW(W,i){return QW.apply(this,arguments)}function QW(){return(QW=(0,r.e)(I().mark((function W(i,L){var h,l,t;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,nW(i,L);case 3:return h=W.sent,l=Object.assign(Object.assign({},L),{authToken:h}),W.next=7,MW(i.appConfig,l);case 7:return W.abrupt("return",h);case 10:if(W.prev=10,W.t0=W.catch(0),!iW(W.t0)||401!==W.t0.customData.serverCode&&404!==W.t0.customData.serverCode){W.next=17;break}return W.next=15,jW(i.appConfig);case 15:W.next=20;break;case 17:return t=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}),W.next=20,MW(i.appConfig,t);case 20:throw W.t0;case 21:case"end":return W.stop()}}),W,null,[[0,10]])})))).apply(this,arguments)}function OW(W){return void 0!==W&&2===W.registrationStatus}function YW(W){return 2===W.requestStatus&&!function(W){var i=Date.now();return i<W.creationTime||W.creationTime+W.expiresIn<i+O}(W)}function Wi(W){var i={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},W),{authToken:i})}function ii(){return(ii=(0,r.e)(I().mark((function W(i){var L,h,l,t;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=i,W.next=3,FW(L.appConfig);case 3:return h=W.sent,l=h.installationEntry,(t=h.registrationPromise)?t.catch(console.error):KW(L).catch(console.error),W.abrupt("return",l.fid);case 8:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function Li(){return Li=(0,r.e)(I().mark((function W(i){var L,h,l,t=arguments;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=t.length>1&&void 0!==t[1]&&t[1],h=i,W.next=4,hi(h.appConfig);case 4:return W.next=6,KW(h,L);case 6:return l=W.sent,W.abrupt("return",l.token);case 8:case"end":return W.stop()}}),W)}))),Li.apply(this,arguments)}function hi(W){return li.apply(this,arguments)}function li(){return(li=(0,r.e)(I().mark((function W(i){var L,h;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,FW(i);case 2:if(L=W.sent,!(h=L.registrationPromise)){W.next=7;break}return W.next=7,h;case 7:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function ti(W){return WW.create("missing-app-config-values",{valueName:W})}var pi,xi="installations",Ri=function(W){var i=W.getProvider("app").getImmediate(),L=function(W){if(!W||!W.options)throw ti("App Configuration");if(!W.name)throw ti("App Name");for(var i=0,L=["projectId","apiKey","appId"];i<L.length;i++){var h=L[i];if(!W.options[h])throw ti(h)}return{appName:W.name,projectId:W.options.projectId,apiKey:W.options.apiKey,appId:W.options.appId}}(i);return{app:i,appConfig:L,platformLoggerProvider:(0,s.h)(i,"platform-logger"),_delete:function(){return Promise.resolve()}}},zi=function(W){var i=W.getProvider("app").getImmediate(),L=(0,s.h)(i,xi).getImmediate(),h={getId:function(){return function(W){return ii.apply(this,arguments)}(L)},getToken:function(W){return function(W){return Li.apply(this,arguments)}(L,W)}};return h};(0,s.i)(new d.g(xi,Ri,"PUBLIC")),(0,s.i)(new d.g("installations-internal",zi,"PRIVATE")),(0,s.r)(u,J),(0,s.r)(u,J,"esm2017");var ri="analytics",Ni=6e4,Ii="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",si="https://www.googletagmanager.com/gtag/js",oi=new V("@firebase/analytics");function Di(W){return Promise.all(W.map((function(W){return W.catch((function(W){return W}))})))}function Si(W,i){var L=document.createElement("script");L.src="".concat(si,"?l=").concat(W,"&id=").concat(i),L.async=!0,document.head.appendChild(L)}function Ci(W,i,L,h,l,t){return ei.apply(this,arguments)}function ei(){return ei=(0,r.e)(I().mark((function W(i,L,h,l,t,p){var x,R,z;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(x=l[t],W.prev=1,!x){W.next=7;break}return W.next=5,L[x];case 5:W.next=14;break;case 7:return W.next=9,Di(h);case 9:if(R=W.sent,!(z=R.find((function(W){return W.measurementId===t})))){W.next=14;break}return W.next=14,L[z.appId];case 14:W.next=19;break;case 16:W.prev=16,W.t0=W.catch(1),oi.error(W.t0);case 19:i("config",t,p);case 20:case"end":return W.stop()}}),W,null,[[1,16]])}))),ei.apply(this,arguments)}function Vi(W,i,L,h,l){return ci.apply(this,arguments)}function ci(){return ci=(0,r.e)(I().mark((function W(i,L,h,l,t){var x,R,z,r,N,s;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(W.prev=0,x=[],!t||!t.send_to){W.next=26;break}return R=t.send_to,Array.isArray(R)||(R=[R]),W.next=7,Di(h);case 7:z=W.sent,r=(0,p.d)(R),W.prev=9,s=function(){var W=N.value,i=z.find((function(i){return i.measurementId===W})),h=i&&L[i.appId];if(!h)return x=[],"break";x.push(h)},r.s();case 12:if((N=r.n()).done){W.next=18;break}if("break"!==s()){W.next=16;break}return W.abrupt("break",18);case 16:W.next=12;break;case 18:W.next=23;break;case 20:W.prev=20,W.t0=W.catch(9),r.e(W.t0);case 23:return W.prev=23,r.f(),W.finish(23);case 26:return 0===x.length&&(x=Object.values(L)),W.next=29,Promise.all(x);case 29:i("event",l,t||{}),W.next=35;break;case 32:W.prev=32,W.t1=W.catch(0),oi.error(W.t1);case 35:case"end":return W.stop()}}),W,null,[[0,32],[9,20,23,26]])}))),ci.apply(this,arguments)}function fi(W,i,L,h,l){var t=function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];window[h].push(arguments)};return window[l]&&"function"===typeof window[l]&&(t=window[l]),window[l]=function(W,i,L,h){function l(){return(l=(0,r.e)(I().mark((function l(t,p,x){return I().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,"event"!==t){l.next=6;break}return l.next=4,Vi(W,i,L,p,x);case 4:l.next=12;break;case 6:if("config"!==t){l.next=11;break}return l.next=9,Ci(W,i,L,h,p,x);case 9:l.next=12;break;case 11:W("set",p);case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),oi.error(l.t0);case 17:case"end":return l.stop()}}),l,null,[[0,14]])})))).apply(this,arguments)}return function(W,i,L){return l.apply(this,arguments)}}(t,W,i,L),{gtagCore:t,wrappedGtag:window[l]}}function ai(){for(var W=window.document.getElementsByTagName("script"),i=0,L=Object.values(W);i<L.length;i++){var h=L[i];if(h.src&&h.src.includes(si))return h}return null}var Pi=(pi={},(0,z.b)(pi,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),(0,z.b)(pi,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),(0,z.b)(pi,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),(0,z.b)(pi,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),(0,z.b)(pi,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,z.b)(pi,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,z.b)(pi,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),(0,z.b)(pi,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),(0,z.b)(pi,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),(0,z.b)(pi,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),pi),yi=new Z("analytics","Analytics",Pi),Mi=function(){function W(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;(0,x.c)(this,W),this.throttleMetadata=i,this.intervalMillis=L}return(0,R.d)(W,[{key:"getThrottleMetadata",value:function(W){return this.throttleMetadata[W]}},{key:"setThrottleMetadata",value:function(W,i){this.throttleMetadata[W]=i}},{key:"deleteThrottleMetadata",value:function(W){delete this.throttleMetadata[W]}}]),W}(),bi=new Mi;function ji(W){return new Headers({Accept:"application/json","x-goog-api-key":W})}function Zi(W){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,r.e)(I().mark((function W(i){var L,h,l,t,p,x,R,z;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=i.appId,l=i.apiKey,t={method:"GET",headers:ji(l)},p=Ii.replace("{app-id}",h),W.next=5,fetch(p,t);case 5:if(200===(x=W.sent).status||304===x.status){W.next=18;break}return R="",W.prev=8,W.next=11,x.json();case 11:z=W.sent,(null===(L=z.error)||void 0===L?void 0:L.message)&&(R=z.error.message),W.next=17;break;case 15:W.prev=15,W.t0=W.catch(8);case 17:throw yi.create("config-fetch-failed",{httpStatus:x.status,responseMessage:R});case 18:return W.abrupt("return",x.json());case 19:case"end":return W.stop()}}),W,null,[[8,15]])})))).apply(this,arguments)}function Ti(W){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,r.e)(I().mark((function W(i){var L,h,l,t,p,x,R,z,N=arguments;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(L=N.length>1&&void 0!==N[1]?N[1]:bi,h=N.length>2?N[2]:void 0,l=i.options,t=l.appId,p=l.apiKey,x=l.measurementId,t){W.next=5;break}throw yi.create("no-app-id");case 5:if(p){W.next=9;break}if(!x){W.next=8;break}return W.abrupt("return",{measurementId:x,appId:t});case 8:throw yi.create("no-api-key");case 9:return R=L.getThrottleMetadata(t)||{backoffCount:0,throttleEndTimeMillis:Date.now()},z=new di,setTimeout((0,r.e)(I().mark((function W(){return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:z.abort();case 1:case"end":return W.stop()}}),W)}))),void 0!==h?h:Ni),W.abrupt("return",qi({appId:t,apiKey:p,measurementId:x},R,z,L));case 13:case"end":return W.stop()}}),W)}))),Fi.apply(this,arguments)}function qi(W,i,L){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,r.e)(I().mark((function W(i,L,h){var l,t,p,x,R,z,r,N,s=arguments;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return l=L.throttleEndTimeMillis,t=L.backoffCount,p=s.length>3&&void 0!==s[3]?s[3]:bi,x=i.appId,R=i.measurementId,W.prev=3,W.next=6,ki(h,l);case 6:W.next=14;break;case 8:if(W.prev=8,W.t0=W.catch(3),!R){W.next=13;break}return oi.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(R)+' provided in the "measurementId" field in the local Firebase config. ['.concat(W.t0.message,"]")),W.abrupt("return",{appId:x,measurementId:R});case 13:throw W.t0;case 14:return W.prev=14,W.next=17,Zi(i);case 17:return z=W.sent,p.deleteThrottleMetadata(x),W.abrupt("return",z);case 22:if(W.prev=22,W.t1=W.catch(14),Ui(W.t1)){W.next=32;break}if(p.deleteThrottleMetadata(x),!R){W.next=31;break}return oi.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(R)+' provided in the "measurementId" field in the local Firebase config. ['.concat(W.t1.message,"]")),W.abrupt("return",{appId:x,measurementId:R});case 31:throw W.t1;case 32:return r=503===Number(W.t1.customData.httpStatus)?k(t,p.intervalMillis,30):k(t,p.intervalMillis),N={throttleEndTimeMillis:Date.now()+r,backoffCount:t+1},p.setThrottleMetadata(x,N),oi.debug("Calling attemptFetch again in ".concat(r," millis")),W.abrupt("return",qi(i,N,h,p));case 37:case"end":return W.stop()}}),W,null,[[3,8],[14,22]])}))),Hi.apply(this,arguments)}function ki(W,i){return new Promise((function(L,h){var l=Math.max(i-Date.now(),0),t=setTimeout(L,l);W.addEventListener((function(){clearTimeout(t),h(yi.create("fetch-throttle",{throttleEndTimeMillis:i}))}))}))}function Ui(W){if(!(W instanceof j)||!W.customData)return!1;var i=Number(W.customData.httpStatus);return 429===i||500===i||503===i||504===i}var di=function(){function W(){(0,x.c)(this,W),this.listeners=[]}return(0,R.d)(W,[{key:"addEventListener",value:function(W){this.listeners.push(W)}},{key:"abort",value:function(){this.listeners.forEach((function(W){return W()}))}}]),W}();function Bi(){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.e)(I().mark((function W(){return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(M()){W.next=5;break}return oi.warn(yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),W.abrupt("return",!1);case 5:return W.prev=5,W.next=8,b();case 8:W.next=14;break;case 10:return W.prev=10,W.t0=W.catch(5),oi.warn(yi.create("indexeddb-unavailable",{errorInfo:W.t0}).message),W.abrupt("return",!1);case 14:return W.abrupt("return",!0);case 15:case"end":return W.stop()}}),W,null,[[5,10]])})))).apply(this,arguments)}function gi(){return gi=(0,r.e)(I().mark((function W(i,L,h,l,p,x,R){var z,r,N,s,o,D,S,C;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return(r=Ti(i)).then((function(W){h[W.measurementId]=W.appId,i.options.measurementId&&W.measurementId!==i.options.measurementId&&oi.warn("The measurement ID in the local Firebase config (".concat(i.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(W.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(W){return oi.error(W)})),L.push(r),N=Bi().then((function(W){return W?l.getId():void 0})),W.next=6,Promise.all([r,N]);case 6:return s=W.sent,o=(0,t.d)(s,2),D=o[0],S=o[1],ai()||Si(x,D.measurementId),p("js",new Date),(C=null!==(z=null===R||void 0===R?void 0:R.config)&&void 0!==z?z:{}).origin="firebase",C.update=!0,null!=S&&(C.firebase_id=S),p("config",D.measurementId,C),W.abrupt("return",D.measurementId);case 18:case"end":return W.stop()}}),W)}))),gi.apply(this,arguments)}var ni,mi,Ei=function(){function W(i){(0,x.c)(this,W),this.app=i}return(0,R.d)(W,[{key:"_delete",value:function(){return delete Ki[this.app.options.appId],Promise.resolve()}}]),W}(),Ki={},Gi=[],ui={},Ji="dataLayer",Ai="gtag",vi=!1;function Qi(){var W=[];if(function(){var W="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof W&&void 0!==W.id}()&&W.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||W.push("Cookies are not available."),W.length>0){var i=W.map((function(W,i){return"(".concat(i+1,") ").concat(W)})).join(" "),L=yi.create("invalid-analytics-context",{errorInfo:i});oi.warn(L.message)}}function Oi(W,i,L){Qi();var h=W.options.appId;if(!h)throw yi.create("no-app-id");if(!W.options.apiKey){if(!W.options.measurementId)throw yi.create("no-api-key");oi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(W.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ki[h])throw yi.create("already-exists",{id:h});if(!vi){!function(W){var i=[];Array.isArray(window[W])?i=window[W]:window[W]=i}(Ji);var l=fi(Ki,Gi,ui,Ji,Ai),t=l.wrappedGtag,p=l.gtagCore;mi=t,ni=p,vi=!0}return Ki[h]=function(W,i,L,h,l,t,p){return gi.apply(this,arguments)}(W,Gi,ui,i,ni,Ji,L),new Ei(W)}function Yi(){return(Yi=(0,r.e)(I().mark((function W(i,L,h,l,t){var p,x;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!t||!t.global){W.next=5;break}return i("event",h,l),W.abrupt("return");case 5:return W.next=7,L;case 7:p=W.sent,x=Object.assign(Object.assign({},l),{send_to:p}),i("event",h,x);case 10:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function WL(){return(WL=(0,r.e)(I().mark((function W(i,L,h,l){var t,p,x,R,z;return I().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!l||!l.global){W.next=7;break}for(t={},p=0,x=Object.keys(h);p<x.length;p++)R=x[p],t["user_properties.".concat(R)]=h[R];return i("set",t),W.abrupt("return",Promise.resolve());case 7:return W.next=9,L;case 9:z=W.sent,i("config",z,{update:!0,user_properties:h});case 11:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function iL(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.l)();W=U(W);var i=(0,s.h)(W,ri);return i.isInitialized()?i.getImmediate():LL(W)}function LL(W){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=(0,s.h)(W,ri);if(L.isInitialized()){var h=L.getImmediate();if(F(i,L.getOptions()))return h;throw yi.create("already-initialized")}var l=L.initialize({options:i});return l}function hL(W,i,L){W=U(W),function(W,i,L,h){return WL.apply(this,arguments)}(mi,Ki[W.app.options.appId],i,L).catch((function(W){return oi.error(W)}))}function lL(W,i,L,h){W=U(W),function(W,i,L,h,l){return Yi.apply(this,arguments)}(mi,Ki[W.app.options.appId],i,L,h).catch((function(W){return oi.error(W)}))}var tL="@firebase/analytics",pL="0.7.2";(0,s.i)(new d.g(ri,(function(W,i){var L=i.options;return Oi(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),L)}),"PUBLIC")),(0,s.i)(new d.g("analytics-internal",(function(W){try{var i=W.getProvider(ri).getImmediate();return{logEvent:function(W,L,h){return lL(i,W,L,h)}}}catch(W){throw yi.create("interop-component-reg-failed",{reason:W})}}),"PRIVATE")),(0,s.r)(tL,pL),(0,s.r)(tL,pL,"esm2017")},20271:function(W,i,L){"use strict";L.d(i,{d:function(){return h.o}});var h=L(19642);(0,h.r)("firebase","9.1.3","app")},71806:function(W,i,L){"use strict";L.d(i,{e:function(){return ui},i:function(){return Qh},k:function(){return pL},m:function(){return Lh},o:function(){return RL},q:function(){return xL}});var h=L(11752),l=L(61120),t=L(97326),p=L(60136),x=L(27277),R=L(37762),z=L(29439),r=L(15861),N=L(15671),I=L(43144),s=L(93433),o=L(4942),D=L(64687),S=L.n(D),C=L(28664),e=function(W){for(var i=[],L=0,h=0;h<W.length;h++){var l=W.charCodeAt(h);l<128?i[L++]=l:l<2048?(i[L++]=l>>6|192,i[L++]=63&l|128):55296===(64512&l)&&h+1<W.length&&56320===(64512&W.charCodeAt(h+1))?(l=65536+((1023&l)<<10)+(1023&W.charCodeAt(++h)),i[L++]=l>>18|240,i[L++]=l>>12&63|128,i[L++]=l>>6&63|128,i[L++]=63&l|128):(i[L++]=l>>12|224,i[L++]=l>>6&63|128,i[L++]=63&l|128)}return i},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(W,i){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var L=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[],l=0;l<W.length;l+=3){var t=W[l],p=l+1<W.length,x=p?W[l+1]:0,R=l+2<W.length,z=R?W[l+2]:0,r=t>>2,N=(3&t)<<4|x>>4,I=(15&x)<<2|z>>6,s=63&z;R||(s=64,p||(I=64)),h.push(L[r],L[N],L[I],L[s])}return h.join("")},encodeString:function(W,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(W):this.encodeByteArray(e(W),i)},decodeString:function(W,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(W):function(W){for(var i=[],L=0,h=0;L<W.length;){var l=W[L++];if(l<128)i[h++]=String.fromCharCode(l);else if(l>191&&l<224){var t=W[L++];i[h++]=String.fromCharCode((31&l)<<6|63&t)}else if(l>239&&l<365){var p=((7&l)<<18|(63&W[L++])<<12|(63&W[L++])<<6|63&W[L++])-65536;i[h++]=String.fromCharCode(55296+(p>>10)),i[h++]=String.fromCharCode(56320+(1023&p))}else{var x=W[L++],R=W[L++];i[h++]=String.fromCharCode((15&l)<<12|(63&x)<<6|63&R)}}return i.join("")}(this.decodeStringToByteArray(W,i))},decodeStringToByteArray:function(W,i){this.init_();for(var L=i?this.charToByteMapWebSafe_:this.charToByteMap_,h=[],l=0;l<W.length;){var t=L[W.charAt(l++)],p=l<W.length?L[W.charAt(l)]:0,x=++l<W.length?L[W.charAt(l)]:64,R=++l<W.length?L[W.charAt(l)]:64;if(++l,null==t||null==p||null==x||null==R)throw Error();var z=t<<2|p>>4;if(h.push(z),64!==x){var r=p<<4&240|x>>2;if(h.push(r),64!==R){var N=x<<6&192|R;h.push(N)}}}return h},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},c=function(W){try{return V.decodeString(W,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var a=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W,h,l){var p;return(0,N.c)(this,L),(p=i.call(this,h)).code=W,p.customData=l,p.name="FirebaseError",Object.setPrototypeOf((0,t.e)(p),L.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,t.e)(p),P.prototype.create),p}return(0,I.d)(L)}((0,C.b)(Error)),P=function(){function W(i,L,h){(0,N.c)(this,W),this.service=i,this.serviceName=L,this.errors=h}return(0,I.d)(W,[{key:"create",value:function(W){var i=(arguments.length<=1?void 0:arguments[1])||{},L="".concat(this.service,"/").concat(W),h=this.errors[W],l=h?y(h,i):"Error",t="".concat(this.serviceName,": ").concat(l," (").concat(L,")."),p=new a(L,t,i);return p}}]),W}();function y(W,i){return W.replace(M,(function(W,L){var h=i[L];return null!=h?String(h):"<".concat(L,"?>")}))}var M=/\{\$([^}]+)}/g;function b(W,i){if(W===i)return!0;for(var L=Object.keys(W),h=Object.keys(i),l=0,t=L;l<t.length;l++){var p=t[l];if(!h.includes(p))return!1;var x=W[p],R=i[p];if(j(x)&&j(R)){if(!b(x,R))return!1}else if(x!==R)return!1}for(var z=0,r=h;z<r.length;z++){var N=r[z];if(!L.includes(N))return!1}return!0}function j(W){return null!==W&&"object"===typeof W}function Z(W){for(var i=[],L=function(){var W=(0,z.d)(l[h],2),L=W[0],t=W[1];Array.isArray(t)?t.forEach((function(W){i.push(encodeURIComponent(L)+"="+encodeURIComponent(W))})):i.push(encodeURIComponent(L)+"="+encodeURIComponent(t))},h=0,l=Object.entries(W);h<l.length;h++)L();return i.length?"&"+i.join("&"):""}function X(W){var i={};return W.replace(/^\?/,"").split("&").forEach((function(W){if(W){var L=W.split("="),h=(0,z.d)(L,2),l=h[0],t=h[1];i[decodeURIComponent(l)]=decodeURIComponent(t)}})),i}function T(W){var i=W.indexOf("?");if(!i)return"";var L=W.indexOf("#",i);return W.substring(i,L>0?L:void 0)}var F=function(){function W(i,L){var h=this;(0,N.c)(this,W),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then((function(){i(h)})).catch((function(W){h.error(W)}))}return(0,I.d)(W,[{key:"next",value:function(W){this.forEachObserver((function(i){i.next(W)}))}},{key:"error",value:function(W){this.forEachObserver((function(i){i.error(W)})),this.close(W)}},{key:"complete",value:function(){this.forEachObserver((function(W){W.complete()})),this.close()}},{key:"subscribe",value:function(W,i,L){var h,l=this;if(void 0===W&&void 0===i&&void 0===L)throw new Error("Missing Observer.");void 0===(h=function(W,i){if("object"!==typeof W||null===W)return!1;var L,h=(0,R.d)(i);try{for(h.s();!(L=h.n()).done;){var l=L.value;if(l in W&&"function"===typeof W[l])return!0}}catch(W){h.e(W)}finally{h.f()}return!1}(W,["next","error","complete"])?W:{next:W,error:i,complete:L}).next&&(h.next=q),void 0===h.error&&(h.error=q),void 0===h.complete&&(h.complete=q);var t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{l.finalError?h.error(l.finalError):h.complete()}catch(W){}})),this.observers.push(h),t}},{key:"unsubscribeOne",value:function(W){void 0!==this.observers&&void 0!==this.observers[W]&&(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(W){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,W)}},{key:"sendOne",value:function(W,i){var L=this;this.task.then((function(){if(void 0!==L.observers&&void 0!==L.observers[W])try{i(L.observers[W])}catch(W){"undefined"!==typeof console&&console.error&&console.error(W)}}))}},{key:"close",value:function(W){var i=this;this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then((function(){i.observers=void 0,i.onNoObservers=void 0})))}}]),W}();function q(){}function H(W){return W&&W._delegate?W._delegate:W}var k=L(19642);function U(W,i){var L={};for(var h in W)Object.prototype.hasOwnProperty.call(W,h)&&i.indexOf(h)<0&&(L[h]=W[h]);if(null!=W&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(h=Object.getOwnPropertySymbols(W);l<h.length;l++)i.indexOf(h[l])<0&&Object.prototype.propertyIsEnumerable.call(W,h[l])&&(L[h[l]]=W[h[l]])}return L}Object.create;var d;Object.create;var B,w=[];!function(W){W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT"}(B||(B={}));var g={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},n=B.INFO,m=(d={},(0,o.b)(d,B.DEBUG,"log"),(0,o.b)(d,B.VERBOSE,"log"),(0,o.b)(d,B.INFO,"info"),(0,o.b)(d,B.WARN,"warn"),(0,o.b)(d,B.ERROR,"error"),d),E=function(W,i){if(!(i<W.logLevel)){var L=(new Date).toISOString(),h=m[i];if(!h)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(i,")"));for(var l,t=arguments.length,p=new Array(t>2?t-2:0),x=2;x<t;x++)p[x-2]=arguments[x];(l=console)[h].apply(l,["[".concat(L,"]  ").concat(W.name,":")].concat(p))}},K=function(){function W(i){(0,N.c)(this,W),this.name=i,this._logLevel=n,this._logHandler=E,this._userLogHandler=null,w.push(this)}return(0,I.d)(W,[{key:"logLevel",get:function(){return this._logLevel},set:function(W){if(!(W in B))throw new TypeError('Invalid value "'.concat(W,'" assigned to `logLevel`'));this._logLevel=W}},{key:"setLogLevel",value:function(W){this._logLevel="string"===typeof W?g[W]:W}},{key:"logHandler",get:function(){return this._logHandler},set:function(W){if("function"!==typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(W){this._userLogHandler=W}},{key:"debug",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,B.DEBUG].concat(i)),this._logHandler.apply(this,[this,B.DEBUG].concat(i))}},{key:"log",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,B.VERBOSE].concat(i)),this._logHandler.apply(this,[this,B.VERBOSE].concat(i))}},{key:"info",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,B.INFO].concat(i)),this._logHandler.apply(this,[this,B.INFO].concat(i))}},{key:"warn",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,B.WARN].concat(i)),this._logHandler.apply(this,[this,B.WARN].concat(i))}},{key:"error",value:function(){for(var W=arguments.length,i=new Array(W),L=0;L<W;L++)i[L]=arguments[L];this._userLogHandler&&this._userLogHandler.apply(this,[this,B.ERROR].concat(i)),this._logHandler.apply(this,[this,B.ERROR].concat(i))}}]),W}();var G,u=L(56053);function J(){return(0,o.b)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var A=J,v=new P("auth","Firebase",J()),Q=new K("@firebase/auth");function O(W){if(Q.logLevel<=B.ERROR){for(var i=arguments.length,L=new Array(i>1?i-1:0),h=1;h<i;h++)L[h-1]=arguments[h];Q.error.apply(Q,["Auth (".concat(k.d,"): ").concat(W)].concat(L))}}function Y(W){for(var i=arguments.length,L=new Array(i>1?i-1:0),h=1;h<i;h++)L[h-1]=arguments[h];throw hW.apply(void 0,[W].concat(L))}function WW(W){for(var i=arguments.length,L=new Array(i>1?i-1:0),h=1;h<i;h++)L[h-1]=arguments[h];return hW.apply(void 0,[W].concat(L))}function iW(W,i,L){var h=Object.assign(Object.assign({},A()),(0,o.b)({},i,L));return new P("auth","Firebase",h).create(i,{appName:W.name})}function LW(W,i,L){if(!(i instanceof L))throw L.name!==i.constructor.name&&Y(W,"argument-error"),iW(W,"argument-error","Type of ".concat(i.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function hW(W){for(var i=arguments.length,L=new Array(i>1?i-1:0),h=1;h<i;h++)L[h-1]=arguments[h];if("string"!==typeof W){var l,t=L[0],p=(0,s.d)(L.slice(1));return p[0]&&(p[0].appName=W.name),(l=W._errorFactory).create.apply(l,[t].concat((0,s.d)(p)))}return v.create.apply(v,[W].concat(L))}function lW(W,i){if(!W){for(var L=arguments.length,h=new Array(L>2?L-2:0),l=2;l<L;l++)h[l-2]=arguments[l];throw hW.apply(void 0,[i].concat(h))}}function tW(W){var i="INTERNAL ASSERTION FAILED: "+W;throw O(i),new Error(i)}function pW(W,i){W||tW(i)}var xW=new Map;function RW(W){pW(W instanceof Function,"Expected a class definition");var i=xW.get(W);return i?(pW(i instanceof W,"Instance stored in cache mismatched with class"),i):(i=new W,xW.set(W,i),i)}function zW(W,i){var L=(0,k.h)(W,"auth");if(L.isInitialized()){var h=L.getImmediate();if(b(L.getOptions(),null!==i&&void 0!==i?i:{}))return h;Y(h,"already-initialized")}return L.initialize({options:i})}function rW(){var W;return"undefined"!==typeof self&&(null===(W=self.location)||void 0===W?void 0:W.href)||""}function NW(){return"http:"===IW()||"https:"===IW()}function IW(){var W;return"undefined"!==typeof self&&(null===(W=self.location)||void 0===W?void 0:W.protocol)||null}function sW(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(NW()||function(){var W="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof W&&void 0!==W.id}()||"connection"in navigator))||navigator.onLine}var oW=function(){function W(i,L){(0,N.c)(this,W),this.shortDelay=i,this.longDelay=L,pW(L>i,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())||"object"===typeof navigator&&"ReactNative"===navigator.product}return(0,I.d)(W,[{key:"get",value:function(){return sW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),W}();function DW(W,i){pW(W.emulator,"Emulator should always be set here");var L=W.emulator.url;return i?"".concat(L).concat(i.startsWith("/")?i.slice(1):i):L}var SW=function(){function W(){(0,N.c)(this,W)}return(0,I.d)(W,null,[{key:"initialize",value:function(W,i,L){this.fetchImpl=W,i&&(this.headersImpl=i),L&&(this.responseImpl=L)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void tW("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void tW("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void tW("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),W}(),CW=(G={},(0,o.b)(G,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,o.b)(G,"MISSING_CUSTOM_TOKEN","internal-error"),(0,o.b)(G,"INVALID_IDENTIFIER","invalid-email"),(0,o.b)(G,"MISSING_CONTINUE_URI","internal-error"),(0,o.b)(G,"INVALID_PASSWORD","wrong-password"),(0,o.b)(G,"MISSING_PASSWORD","internal-error"),(0,o.b)(G,"EMAIL_EXISTS","email-already-in-use"),(0,o.b)(G,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,o.b)(G,"INVALID_IDP_RESPONSE","invalid-credential"),(0,o.b)(G,"INVALID_PENDING_TOKEN","invalid-credential"),(0,o.b)(G,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,o.b)(G,"MISSING_REQ_TYPE","internal-error"),(0,o.b)(G,"EMAIL_NOT_FOUND","user-not-found"),(0,o.b)(G,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,o.b)(G,"EXPIRED_OOB_CODE","expired-action-code"),(0,o.b)(G,"INVALID_OOB_CODE","invalid-action-code"),(0,o.b)(G,"MISSING_OOB_CODE","internal-error"),(0,o.b)(G,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,o.b)(G,"INVALID_ID_TOKEN","invalid-user-token"),(0,o.b)(G,"TOKEN_EXPIRED","user-token-expired"),(0,o.b)(G,"USER_NOT_FOUND","user-token-expired"),(0,o.b)(G,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,o.b)(G,"INVALID_CODE","invalid-verification-code"),(0,o.b)(G,"INVALID_SESSION_INFO","invalid-verification-id"),(0,o.b)(G,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,o.b)(G,"MISSING_SESSION_INFO","missing-verification-id"),(0,o.b)(G,"SESSION_EXPIRED","code-expired"),(0,o.b)(G,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,o.b)(G,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,o.b)(G,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,o.b)(G,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,o.b)(G,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,o.b)(G,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,o.b)(G,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,o.b)(G,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,o.b)(G,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,o.b)(G,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,o.b)(G,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),G),eW=new oW(3e4,6e4);function VW(W,i){return W.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:W.tenantId}):i}function cW(W,i,L,h){return fW.apply(this,arguments)}function fW(){return fW=(0,r.e)(S().mark((function W(i,L,h,l){var t,p=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return t=p.length>4&&void 0!==p[4]?p[4]:{},W.abrupt("return",aW(i,t,(function(){var W={},t={};l&&("GET"===L?t=l:W={body:JSON.stringify(l)});var p=Z(Object.assign({key:i.config.apiKey},t)).slice(1),x=new(SW.headers());return x.set("Content-Type","application/json"),x.set("X-Client-Version",i._getSdkClientVersion()),i.languageCode&&x.set("X-Firebase-Locale",i.languageCode),SW.fetch()(bW(i,i.config.apiHost,h,p),Object.assign({method:L,headers:x,referrerPolicy:"no-referrer"},W))})));case 2:case"end":return W.stop()}}),W)}))),fW.apply(this,arguments)}function aW(W,i,L){return PW.apply(this,arguments)}function PW(){return(PW=(0,r.e)(S().mark((function W(i,L,h){var l,t,p,x,R,r,N,I,s,o;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return i._canInitEmulator=!1,l=Object.assign(Object.assign({},CW),L),W.prev=2,t=new jW(i),W.next=6,Promise.race([h(),t.promise]);case 6:return p=W.sent,t.clearNetworkTimeout(),W.next=10,p.json();case 10:if(!("needConfirmation"in(x=W.sent))){W.next=13;break}throw ZW(i,"account-exists-with-different-credential",x);case 13:if(!p.ok||"errorMessage"in x){W.next=17;break}return W.abrupt("return",x);case 17:if(R=p.ok?x.errorMessage:x.error.message,r=R.split(" : "),N=(0,z.d)(r,2),I=N[0],s=N[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==I){W.next=23;break}throw ZW(i,"credential-already-in-use",x);case 23:if("EMAIL_EXISTS"!==I){W.next=25;break}throw ZW(i,"email-already-in-use",x);case 25:if(o=l[I]||I.toLowerCase().replace(/[_\s]+/g,"-"),!s){W.next=30;break}throw iW(i,o,s);case 30:Y(i,o);case 31:W.next=38;break;case 33:if(W.prev=33,W.t0=W.catch(2),!(W.t0 instanceof a)){W.next=37;break}throw W.t0;case 37:Y(i,"network-request-failed");case 38:case"end":return W.stop()}}),W,null,[[2,33]])})))).apply(this,arguments)}function yW(W,i,L,h){return MW.apply(this,arguments)}function MW(){return MW=(0,r.e)(S().mark((function W(i,L,h,l){var t,p,x=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return t=x.length>4&&void 0!==x[4]?x[4]:{},W.next=3,cW(i,L,h,l,t);case 3:return"mfaPendingCredential"in(p=W.sent)&&Y(i,"multi-factor-auth-required",{serverResponse:p}),W.abrupt("return",p);case 6:case"end":return W.stop()}}),W)}))),MW.apply(this,arguments)}function bW(W,i,L,h){var l="".concat(i).concat(L,"?").concat(h);return W.config.emulator?DW(W.config,l):"".concat(W.config.apiScheme,"://").concat(l)}var jW=function(){function W(i){var L=this;(0,N.c)(this,W),this.auth=i,this.timer=null,this.promise=new Promise((function(W,i){L.timer=setTimeout((function(){return i(WW(L.auth,"timeout"))}),eW.get())}))}return(0,I.d)(W,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),W}();function ZW(W,i,L){var h={appName:W.name};L.email&&(h.email=L.email),L.phoneNumber&&(h.phoneNumber=L.phoneNumber);var l=WW(W,i,h);return l.customData._tokenResponse=L,l}function XW(W,i){return TW.apply(this,arguments)}function TW(){return(TW=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",cW(i,"POST","/v1/accounts:delete",L));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function FW(W,i){return qW.apply(this,arguments)}function qW(){return(qW=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",cW(i,"POST","/v1/accounts:lookup",L));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function HW(W){if(W)try{var i=new Date(Number(W));if(!isNaN(i.getTime()))return i.toUTCString()}catch(W){}}function kW(){return kW=(0,r.e)(S().mark((function W(i){var L,h,l,t,p,x,R=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=R.length>1&&void 0!==R[1]&&R[1],h=H(i),W.next=4,h.getIdToken(L);case 4:return l=W.sent,lW((t=dW(l))&&t.exp&&t.auth_time&&t.iat,h.auth,"internal-error"),p="object"===typeof t.firebase?t.firebase:void 0,x=null===p||void 0===p?void 0:p.sign_in_provider,W.abrupt("return",{claims:t,token:l,authTime:HW(UW(t.auth_time)),issuedAtTime:HW(UW(t.iat)),expirationTime:HW(UW(t.exp)),signInProvider:x||null,signInSecondFactor:(null===p||void 0===p?void 0:p.sign_in_second_factor)||null});case 10:case"end":return W.stop()}}),W)}))),kW.apply(this,arguments)}function UW(W){return 1e3*Number(W)}function dW(W){var i=W.split("."),L=(0,z.d)(i,3),h=L[0],l=L[1],t=L[2];if(void 0===h||void 0===l||void 0===t)return O("JWT malformed, contained fewer than 3 sections"),null;try{var p=c(l);return p?JSON.parse(p):(O("Failed to decode base64 JWT payload"),null)}catch(W){return O("Caught error parsing JWT payload as JSON",W),null}}function BW(W,i){return wW.apply(this,arguments)}function wW(){return wW=(0,r.e)(S().mark((function W(i,L){var h=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!(h.length>2&&void 0!==h[2]&&h[2])){W.next=3;break}return W.abrupt("return",L);case 3:return W.prev=3,W.next=6,L;case 6:return W.abrupt("return",W.sent);case 9:if(W.prev=9,W.t0=W.catch(3),!(W.t0 instanceof a&&gW(W.t0))){W.next=15;break}if(i.auth.currentUser!==i){W.next=15;break}return W.next=15,i.auth.signOut();case 15:throw W.t0;case 16:case"end":return W.stop()}}),W,null,[[3,9]])}))),wW.apply(this,arguments)}function gW(W){var i=W.code;return i==="auth/".concat("user-disabled")||i==="auth/".concat("user-token-expired")}var nW=function(){function W(i){(0,N.c)(this,W),this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,I.d)(W,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(W){var i;if(W){var L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}this.errorBackoff=3e4;var h=(null!==(i=this.user.stsTokenManager.expirationTime)&&void 0!==i?i:0)-Date.now()-3e5;return Math.max(0,h)}},{key:"schedule",value:function(){var W=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var L=this.getInterval(i);this.timerId=setTimeout((0,r.e)(S().mark((function i(){return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,W.iteration();case 2:case"end":return i.stop()}}),i)}))),L)}}},{key:"iteration",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,this.user.getIdToken(!0);case 3:W.next=9;break;case 5:return W.prev=5,W.t0=W.catch(0),W.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),W.abrupt("return");case 9:this.schedule();case 10:case"end":return W.stop()}}),W,this,[[0,5]])})));return function(){return W.apply(this,arguments)}}()}]),W}(),mW=function(){function W(i,L){(0,N.c)(this,W),this.createdAt=i,this.lastLoginAt=L,this._initializeTime()}return(0,I.d)(W,[{key:"_initializeTime",value:function(){this.lastSignInTime=HW(this.lastLoginAt),this.creationTime=HW(this.createdAt)}},{key:"_copy",value:function(W){this.createdAt=W.createdAt,this.lastLoginAt=W.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),W}();function EW(W){return KW.apply(this,arguments)}function KW(){return(KW=(0,r.e)(S().mark((function W(i){var L,h,l,t,p,x,R,z,r,N,I;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=i.auth,W.next=3,i.getIdToken();case 3:return l=W.sent,W.next=6,BW(i,FW(h,{idToken:l}));case 6:lW(null===(t=W.sent)||void 0===t?void 0:t.users.length,h,"internal-error"),p=t.users[0],i._notifyReloadListener(p),x=(null===(L=p.providerUserInfo)||void 0===L?void 0:L.length)?JW(p.providerUserInfo):[],R=uW(i.providerData,x),z=i.isAnonymous,r=!(i.email&&p.passwordHash)&&!(null===R||void 0===R?void 0:R.length),N=!!z&&r,I={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:R,metadata:new mW(p.createdAt,p.lastLoginAt),isAnonymous:N},Object.assign(i,I);case 17:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function GW(){return(GW=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=H(i),W.next=3,EW(L);case 3:return W.next=5,L.auth._persistUserIfCurrent(L);case 5:L.auth._notifyListenersIfCurrent(L);case 6:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function uW(W,i){var L=W.filter((function(W){return!i.some((function(i){return i.providerId===W.providerId}))}));return[].concat((0,s.d)(L),(0,s.d)(i))}function JW(W){return W.map((function(W){var i=W.providerId,L=U(W,["providerId"]);return{providerId:i,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}}))}function AW(W,i){return vW.apply(this,arguments)}function vW(){return(vW=(0,r.e)(S().mark((function W(i,L){var h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,aW(i,{},(function(){var W=Z({grant_type:"refresh_token",refresh_token:L}).slice(1),h=i.config,l=h.tokenApiHost,t=h.apiKey,p=bW(i,l,"/v1/token","key=".concat(t));return SW.fetch()(p,{method:"POST",headers:{"X-Client-Version":i._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:W})}));case 2:return h=W.sent,W.abrupt("return",{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token});case 4:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var QW=function(){function W(){(0,N.c)(this,W),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,I.d)(W,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(W){lW(W.idToken,"internal-error"),lW("undefined"!==typeof W.idToken,"internal-error"),lW("undefined"!==typeof W.refreshToken,"internal-error");var i="expiresIn"in W&&"undefined"!==typeof W.expiresIn?Number(W.expiresIn):function(W){var i=dW(W);return lW(i,"internal-error"),lW("undefined"!==typeof i.exp,"internal-error"),lW("undefined"!==typeof i.iat,"internal-error"),Number(i.exp)-Number(i.iat)}(W.idToken);this.updateTokensAndExpiration(W.idToken,W.refreshToken,i)}},{key:"getToken",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(L=h.length>1&&void 0!==h[1]&&h[1],lW(!this.accessToken||this.refreshToken,i,"user-token-expired"),L||!this.accessToken||this.isExpired){W.next=4;break}return W.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){W.next=8;break}return W.next=7,this.refresh(i,this.refreshToken);case 7:return W.abrupt("return",this.accessToken);case 8:return W.abrupt("return",null);case 9:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var W=(0,r.e)(S().mark((function W(i,L){var h,l,t,p;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,AW(i,L);case 2:h=W.sent,l=h.accessToken,t=h.refreshToken,p=h.expiresIn,this.updateTokensAndExpiration(l,t,Number(p));case 7:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(W,i,L){this.refreshToken=i||null,this.accessToken=W||null,this.expirationTime=Date.now()+1e3*L}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(W){this.accessToken=W.accessToken,this.refreshToken=W.refreshToken,this.expirationTime=W.expirationTime}},{key:"_clone",value:function(){return Object.assign(new W,this.toJSON())}},{key:"_performRefresh",value:function(){return tW("not implemented")}}],[{key:"fromJSON",value:function(i,L){var h=L.refreshToken,l=L.accessToken,t=L.expirationTime,p=new W;return h&&(lW("string"===typeof h,"internal-error",{appName:i}),p.refreshToken=h),l&&(lW("string"===typeof l,"internal-error",{appName:i}),p.accessToken=l),t&&(lW("number"===typeof t,"internal-error",{appName:i}),p.expirationTime=t),p}}]),W}();function OW(W,i){lW("string"===typeof W||"undefined"===typeof W,"internal-error",{appName:i})}var YW=function(){function W(i){(0,N.c)(this,W);var L=i.uid,h=i.auth,l=i.stsTokenManager,t=U(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=L,this.auth=h,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=t.displayName||null,this.email=t.email||null,this.emailVerified=t.emailVerified||!1,this.phoneNumber=t.phoneNumber||null,this.photoURL=t.photoURL||null,this.isAnonymous=t.isAnonymous||!1,this.tenantId=t.tenantId||null,this.metadata=new mW(t.createdAt||void 0,t.lastLoginAt||void 0)}return(0,I.d)(W,[{key:"getIdToken",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,BW(this,this.stsTokenManager.getToken(this.auth,i));case 2:if(lW(L=W.sent,this.auth,"internal-error"),this.accessToken===L){W.next=9;break}return this.accessToken=L,W.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return W.abrupt("return",L);case 10:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(W){return function(W){return kW.apply(this,arguments)}(this,W)}},{key:"reload",value:function(){return function(W){return GW.apply(this,arguments)}(this)}},{key:"_assign",value:function(W){this!==W&&(lW(this.uid===W.uid,this.auth,"internal-error"),this.displayName=W.displayName,this.photoURL=W.photoURL,this.email=W.email,this.emailVerified=W.emailVerified,this.phoneNumber=W.phoneNumber,this.isAnonymous=W.isAnonymous,this.tenantId=W.tenantId,this.providerData=W.providerData.map((function(W){return Object.assign({},W)})),this.metadata._copy(W.metadata),this.stsTokenManager._assign(W.stsTokenManager))}},{key:"_clone",value:function(i){return new W(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(W){lW(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=W,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(W){this.reloadListener?this.reloadListener(W):this.reloadUserInfo=W}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h,l=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(L=l.length>1&&void 0!==l[1]&&l[1],h=!1,i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),h=!0),!L){W.next=6;break}return W.next=6,EW(this);case 6:return W.next=8,this.auth._persistUserIfCurrent(this);case 8:h&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"delete",value:function(){var W=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.getIdToken();case 2:return i=W.sent,W.next=5,BW(this,XW(this.auth,{idToken:i}));case 5:return this.stsTokenManager.clearRefreshToken(),W.abrupt("return",this.auth.signOut());case 7:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(W){return Object.assign({},W)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(i,L){var h,l,t,p,x,R,z,r,N=null!==(h=L.displayName)&&void 0!==h?h:void 0,I=null!==(l=L.email)&&void 0!==l?l:void 0,s=null!==(t=L.phoneNumber)&&void 0!==t?t:void 0,o=null!==(p=L.photoURL)&&void 0!==p?p:void 0,D=null!==(x=L.tenantId)&&void 0!==x?x:void 0,S=null!==(R=L._redirectEventId)&&void 0!==R?R:void 0,C=null!==(z=L.createdAt)&&void 0!==z?z:void 0,e=null!==(r=L.lastLoginAt)&&void 0!==r?r:void 0,V=L.uid,c=L.emailVerified,f=L.isAnonymous,a=L.providerData,P=L.stsTokenManager;lW(V&&P,i,"internal-error");var y=QW.fromJSON(this.name,P);lW("string"===typeof V,i,"internal-error"),OW(N,i.name),OW(I,i.name),lW("boolean"===typeof c,i,"internal-error"),lW("boolean"===typeof f,i,"internal-error"),OW(s,i.name),OW(o,i.name),OW(D,i.name),OW(S,i.name),OW(C,i.name),OW(e,i.name);var M=new W({uid:V,auth:i,email:I,emailVerified:c,displayName:N,isAnonymous:f,photoURL:o,phoneNumber:s,tenantId:D,stsTokenManager:y,createdAt:C,lastLoginAt:e});return a&&Array.isArray(a)&&(M.providerData=a.map((function(W){return Object.assign({},W)}))),S&&(M._redirectEventId=S),M}},{key:"_fromIdTokenResponse",value:function(){var i=(0,r.e)(S().mark((function i(L,h){var l,t,p,x=arguments;return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=x.length>2&&void 0!==x[2]&&x[2],(t=new QW).updateFromServerResponse(h),p=new W({uid:h.localId,auth:L,stsTokenManager:t,isAnonymous:l}),i.next=6,EW(p);case 6:return i.abrupt("return",p);case 7:case"end":return i.stop()}}),i)})));return function(W,L){return i.apply(this,arguments)}}()}]),W}(),Wi=function(){function W(){(0,N.c)(this,W),this.type="NONE",this.storage={}}return(0,I.d)(W,[{key:"_isAvailable",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",!0);case 1:case"end":return W.stop()}}),W)})));return function(){return W.apply(this,arguments)}}()},{key:"_set",value:function(){var W=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:this.storage[i]=L;case 1:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"_get",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=this.storage[i],W.abrupt("return",void 0===L?null:L);case 2:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_remove",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:delete this.storage[i];case 1:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_addListener",value:function(W,i){}},{key:"_removeListener",value:function(W,i){}}]),W}();Wi.type="NONE";var ii=Wi;function Li(W,i,L){return"firebase".concat(":",W,":").concat(i,":").concat(L)}var hi=function(){function W(i,L,h){(0,N.c)(this,W),this.persistence=i,this.auth=L,this.userKey=h;var l=this.auth,t=l.config,p=l.name;this.fullUserKey=Li(this.userKey,t.apiKey,p),this.fullPersistenceKey=Li("persistence",t.apiKey,p),this.boundEventHandler=L._onStorageEvent.bind(L),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,I.d)(W,[{key:"setCurrentUser",value:function(W){return this.persistence._set(this.fullUserKey,W.toJSON())}},{key:"getCurrentUser",value:function(){var W=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.persistence._get(this.fullUserKey);case 2:return i=W.sent,W.abrupt("return",i?YW._fromJSON(this.auth,i):null);case 4:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(this.persistence!==i){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,this.getCurrentUser();case 4:return L=W.sent,W.next=7,this.removeCurrentUser();case 7:if(this.persistence=i,!L){W.next=10;break}return W.abrupt("return",this.setCurrentUser(L));case 10:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var i=(0,r.e)(S().mark((function i(L,h){var l,t,p,x,z,N,I,s,o,D,C,e=arguments;return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=e.length>2&&void 0!==e[2]?e[2]:"authUser",h.length){i.next=3;break}return i.abrupt("return",new W(RW(ii),L,l));case 3:return i.next=5,Promise.all(h.map(function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,i._isAvailable();case 2:if(!W.sent){W.next=4;break}return W.abrupt("return",i);case 4:return W.abrupt("return",void 0);case 5:case"end":return W.stop()}}),W)})));return function(i){return W.apply(this,arguments)}}()));case 5:t=i.sent.filter((function(W){return W})),p=t[0]||RW(ii),x=Li(l,L.config.apiKey,L.name),z=null,N=(0,R.d)(h),i.prev=10,N.s();case 12:if((I=N.n()).done){i.next=29;break}return s=I.value,i.prev=14,i.next=17,s._get(x);case 17:if(!(o=i.sent)){i.next=23;break}return D=YW._fromJSON(L,o),s!==p&&(z=D),p=s,i.abrupt("break",29);case 23:i.next=27;break;case 25:i.prev=25,i.t0=i.catch(14);case 27:i.next=12;break;case 29:i.next=34;break;case 31:i.prev=31,i.t1=i.catch(10),N.e(i.t1);case 34:return i.prev=34,N.f(),i.finish(34);case 37:if(C=t.filter((function(W){return W._shouldAllowMigration})),p._shouldAllowMigration&&C.length){i.next=40;break}return i.abrupt("return",new W(p,L,l));case 40:if(p=C[0],!z){i.next=44;break}return i.next=44,p._set(x,z.toJSON());case 44:return i.next=46,Promise.all(h.map(function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(i===p){W.next=8;break}return W.prev=1,W.next=4,i._remove(x);case 4:W.next=8;break;case 6:W.prev=6,W.t0=W.catch(1);case 8:case"end":return W.stop()}}),W,null,[[1,6]])})));return function(i){return W.apply(this,arguments)}}()));case 46:return i.abrupt("return",new W(p,L,l));case 47:case"end":return i.stop()}}),i,null,[[10,31,34,37],[14,25]])})));return function(W,L){return i.apply(this,arguments)}}()}]),W}();function li(W){var i=W.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(Ri(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(ti(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(ri(i))return"Blackberry";if(Ni(i))return"Webos";if(pi(i))return"Safari";if((i.includes("chrome/")||xi(i))&&!i.includes("edge/"))return"Chrome";if(zi(i))return"Android";var L=W.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===L||void 0===L?void 0:L.length)?L[1]:"Other"}function ti(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/firefox\//i.test(W)}function pi(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),i=W.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function xi(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/crios\//i.test(W)}function Ri(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/iemobile/i.test(W)}function zi(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/android/i.test(W)}function ri(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/blackberry/i.test(W)}function Ni(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/webos/i.test(W)}function Ii(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return/iphone|ipad|ipod/i.test(W)}function si(){var W,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return Ii(i)&&!!(null===(W=window.navigator)||void 0===W?void 0:W.standalone)}function oi(){return function(){var W=f();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}()&&10===document.documentMode}function Di(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f();return Ii(W)||zi(W)||Ni(W)||ri(W)||/windows phone/i.test(W)||Ri(W)}function Si(W){var i,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(W){case"Browser":i=li(f());break;case"Worker":i="".concat(li(f()),"-").concat(W);break;default:i=W}var h=L.length?L.join(","):"FirebaseCore-web";return"".concat(i,"/","JsCore","/").concat(k.d,"/").concat(h)}var Ci=function(){function W(i,L){(0,N.c)(this,W),this.app=i,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=L.sdkClientVersion}return(0,I.d)(W,[{key:"_initializeWithPersistence",value:function(W,i){var L=this;return i&&(this._popupRedirectResolver=RW(i)),this._initializationPromise=this.queue((0,r.e)(S().mark((function h(){var l;return S().wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(!L._deleted){h.next=2;break}return h.abrupt("return");case 2:return h.next=4,hi.create(L,W);case 4:if(L.persistenceManager=h.sent,!L._deleted){h.next=7;break}return h.abrupt("return");case 7:if(!(null===(l=L._popupRedirectResolver)||void 0===l?void 0:l._shouldInitProactively)){h.next=10;break}return h.next=10,L._popupRedirectResolver._initialize(L);case 10:return h.next=12,L.initializeCurrentUser(i);case 12:if(!L._deleted){h.next=14;break}return h.abrupt("return");case 14:L._isInitialized=!0;case 15:case"end":return h.stop()}}),h)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var W=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!this._deleted){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,this.assertedPersistence.getCurrentUser();case 4:if(i=W.sent,this.currentUser||i){W.next=7;break}return W.abrupt("return");case 7:if(!this.currentUser||!i||this.currentUser.uid!==i.uid){W.next=12;break}return this._currentUser._assign(i),W.next=11,this.currentUser.getIdToken();case 11:return W.abrupt("return");case 12:return W.next=14,this._updateCurrentUser(i);case 14:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h,l,t,p;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.assertedPersistence.getCurrentUser();case 2:if(h=W.sent,!i||!this.config.authDomain){W.next=12;break}return W.next=6,this.getOrInitRedirectPersistenceManager();case 6:return l=null===(L=this.redirectUser)||void 0===L?void 0:L._redirectEventId,t=null===h||void 0===h?void 0:h._redirectEventId,W.next=10,this.tryRedirectSignIn(i);case 10:p=W.sent,l&&l!==t||!(null===p||void 0===p?void 0:p.user)||(h=p.user);case 12:if(h){W.next=14;break}return W.abrupt("return",this.directlySetCurrentUser(null));case 14:if(h._redirectEventId){W.next=16;break}return W.abrupt("return",this.reloadAndSetCurrentUserOrClear(h));case 16:return lW(this._popupRedirectResolver,this,"argument-error"),W.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==h._redirectEventId){W.next=21;break}return W.abrupt("return",this.directlySetCurrentUser(h));case 21:return W.abrupt("return",this.reloadAndSetCurrentUserOrClear(h));case 22:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=null,W.prev=1,W.next=4,this._popupRedirectResolver._completeRedirectFn(this,i,!0);case 4:L=W.sent,W.next=11;break;case 7:return W.prev=7,W.t0=W.catch(1),W.next=11,this._setRedirectUser(null);case 11:return W.abrupt("return",L);case 12:case"end":return W.stop()}}),W,this,[[1,7]])})));return function(i){return W.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,EW(i);case 3:W.next=9;break;case 5:if(W.prev=5,W.t0=W.catch(0),W.t0.code==="auth/".concat("network-request-failed")){W.next=9;break}return W.abrupt("return",this.directlySetCurrentUser(null));case 9:return W.abrupt("return",this.directlySetCurrentUser(i));case 10:case"end":return W.stop()}}),W,this,[[0,5]])})));return function(i){return W.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var W=navigator;return W.languages&&W.languages[0]||W.language||null}()}},{key:"_delete",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:this._deleted=!0;case 1:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return(L=i?H(i):null)&&lW(L.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),W.abrupt("return",this._updateCurrentUser(L&&L._clone(this)));case 3:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var W=(0,r.e)(S().mark((function W(i){var L=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!this._deleted){W.next=2;break}return W.abrupt("return");case 2:return i&&lW(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),W.abrupt("return",this.queue((0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,L.directlySetCurrentUser(i);case 2:L.notifyAuthListeners();case 3:case"end":return W.stop()}}),W)})))));case 4:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"signOut",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){W.next=3;break}return W.next=3,this._setRedirectUser(null);case 3:return W.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"setPersistence",value:function(W){var i=this;return this.queue((0,r.e)(S().mark((function L(){return S().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,i.assertedPersistence.setPersistence(RW(W));case 2:case"end":return L.stop()}}),L)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(W){this._errorFactory=new P("auth","Firebase",W())}},{key:"onAuthStateChanged",value:function(W,i,L){return this.registerStateListener(this.authStateSubscription,W,i,L)}},{key:"onIdTokenChanged",value:function(W,i,L){return this.registerStateListener(this.idTokenSubscription,W,i,L)}},{key:"toJSON",value:function(){var W;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(W=this._currentUser)||void 0===W?void 0:W.toJSON()}}},{key:"_setRedirectUser",value:function(){var W=(0,r.e)(S().mark((function W(i,L){var h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.getOrInitRedirectPersistenceManager(L);case 2:return h=W.sent,W.abrupt("return",null===i?h.removeCurrentUser():h.setCurrentUser(i));case 4:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(this.redirectPersistenceManager){W.next=9;break}return lW(L=i&&RW(i)||this._popupRedirectResolver,this,"argument-error"),W.next=5,hi.create(this,[RW(L._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=W.sent,W.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=W.sent;case 9:return W.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!this._isInitialized){W.next=3;break}return W.next=3,this.queue((0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:case"end":return W.stop()}}),W)}))));case 3:if((null===(L=this._currentUser)||void 0===L?void 0:L._redirectEventId)!==i){W.next=5;break}return W.abrupt("return",this._currentUser);case 5:if((null===(h=this.redirectUser)||void 0===h?void 0:h._redirectEventId)!==i){W.next=7;break}return W.abrupt("return",this.redirectUser);case 7:return W.abrupt("return",null);case 8:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var W=(0,r.e)(S().mark((function W(i){var L=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(i!==this.currentUser){W.next=2;break}return W.abrupt("return",this.queue((0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",L.directlySetCurrentUser(i));case 1:case"end":return W.stop()}}),W)})))));case 2:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(W){W===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var W,i;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var L=null!==(i=null===(W=this.currentUser)||void 0===W?void 0:W.uid)&&void 0!==i?i:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(W,i,L,h){var l=this;if(this._deleted)return function(){};var t="function"===typeof i?i:i.next.bind(i),p=this._isInitialized?Promise.resolve():this._initializationPromise;return lW(p,this,"internal-error"),p.then((function(){return t(l.currentUser)})),"function"===typeof i?W.addObserver(i,L,h):W.addObserver(i)}},{key:"directlySetCurrentUser",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(this.currentUser&&this.currentUser!==i&&(this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh()),this.currentUser=i,!i){W.next=7;break}return W.next=5,this.assertedPersistence.setCurrentUser(i);case 5:W.next=9;break;case 7:return W.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"queue",value:function(W){return this.operations=this.operations.then(W,W),this.operations}},{key:"assertedPersistence",get:function(){return lW(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(W){W&&!this.frameworks.includes(W)&&(this.frameworks.push(W),this.frameworks.sort(),this.clientVersion=Si(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),W}();function ei(W){return H(W)}var Vi=function(){function W(i){var L=this;(0,N.c)(this,W),this.auth=i,this.observer=null,this.addObserver=function(W,i){var L=new F(W,i);return L.subscribe.bind(L)}((function(W){return L.observer=W}))}return(0,I.d)(W,[{key:"next",get:function(){return lW(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),W}();var ci=function(){function W(i,L){(0,N.c)(this,W),this.providerId=i,this.signInMethod=L}return(0,I.d)(W,[{key:"toJSON",value:function(){return tW("not implemented")}},{key:"_getIdTokenResponse",value:function(W){return tW("not implemented")}},{key:"_linkToIdToken",value:function(W,i){return tW("not implemented")}},{key:"_getReauthenticationResolver",value:function(W){return tW("not implemented")}}]),W}();function fi(W,i){return ai.apply(this,arguments)}function ai(){return(ai=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",cW(i,"POST","/v1/accounts:update",L));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function Pi(W,i){return yi.apply(this,arguments)}function yi(){return(yi=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithPassword",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function Mi(W,i){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithEmailLink",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function ji(W,i){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithEmailLink",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var Xi=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W,h,l){var t,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,N.c)(this,L),(t=i.call(this,"password",l))._email=W,t._password=h,t._tenantId=p,t}return(0,I.d)(L,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:W.t0=this.signInMethod,W.next="password"===W.t0?3:"emailLink"===W.t0?4:5;break;case 3:return W.abrupt("return",Pi(i,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return W.abrupt("return",Mi(i,{email:this._email,oobCode:this._password}));case 5:Y(i,"internal-error");case 6:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var W=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:W.t0=this.signInMethod,W.next="password"===W.t0?3:"emailLink"===W.t0?4:5;break;case 3:return W.abrupt("return",fi(i,{idToken:L,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return W.abrupt("return",ji(i,{idToken:L,email:this._email,oobCode:this._password}));case 5:Y(i,"internal-error");case 6:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(W){return this._getIdTokenResponse(W)}}],[{key:"_fromEmailAndPassword",value:function(W,i){return new L(W,i,"password")}},{key:"_fromEmailAndCode",value:function(W,i){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new L(W,i,"emailLink",h)}},{key:"fromJSON",value:function(W){var i="string"===typeof W?JSON.parse(W):W;if((null===i||void 0===i?void 0:i.email)&&(null===i||void 0===i?void 0:i.password)){if("password"===i.signInMethod)return this._fromEmailAndPassword(i.email,i.password);if("emailLink"===i.signInMethod)return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}}]),L}(ci);function Ti(W,i){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithIdp",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var qi=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){var W;return(0,N.c)(this,L),(W=i.apply(this,arguments)).pendingToken=null,W}return(0,I.d)(L,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(W){return Ti(W,this.buildRequest())}},{key:"_linkToIdToken",value:function(W,i){var L=this.buildRequest();return L.idToken=i,Ti(W,L)}},{key:"_getReauthenticationResolver",value:function(W){var i=this.buildRequest();return i.autoCreate=!1,Ti(W,i)}},{key:"buildRequest",value:function(){var W={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)W.pendingToken=this.pendingToken;else{var i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),W.postBody=Z(i)}return W}}],[{key:"_fromParams",value:function(W){var i=new L(W.providerId,W.signInMethod);return W.idToken||W.accessToken?(W.idToken&&(i.idToken=W.idToken),W.accessToken&&(i.accessToken=W.accessToken),W.nonce&&!W.pendingToken&&(i.nonce=W.nonce),W.pendingToken&&(i.pendingToken=W.pendingToken)):W.oauthToken&&W.oauthTokenSecret?(i.accessToken=W.oauthToken,i.secret=W.oauthTokenSecret):Y("argument-error"),i}},{key:"fromJSON",value:function(W){var i="string"===typeof W?JSON.parse(W):W,h=i.providerId,l=i.signInMethod,t=U(i,["providerId","signInMethod"]);if(!h||!l)return null;var p=new L(h,l);return p.idToken=t.idToken||void 0,p.accessToken=t.accessToken||void 0,p.secret=t.secret,p.nonce=t.nonce,p.pendingToken=t.pendingToken||null,p}}]),L}(ci);function Hi(W,i){return ki.apply(this,arguments)}function ki(){return(ki=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",cW(i,"POST","/v1/accounts:sendVerificationCode",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function Ui(){return(Ui=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithPhoneNumber",VW(i,L)));case 1:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function di(){return(di=(0,r.e)(S().mark((function W(i,L){var h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,yW(i,"POST","/v1/accounts:signInWithPhoneNumber",VW(i,L));case 2:if(!(h=W.sent).temporaryProof){W.next=5;break}throw ZW(i,"account-exists-with-different-credential",h);case 5:return W.abrupt("return",h);case 6:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var Bi=(0,o.b)({},"USER_NOT_FOUND","user-not-found");function wi(){return(wi=(0,r.e)(S().mark((function W(i,L){var h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=Object.assign(Object.assign({},L),{operation:"REAUTH"}),W.abrupt("return",yW(i,"POST","/v1/accounts:signInWithPhoneNumber",VW(i,h),Bi));case 2:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var gi=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W){var h;return(0,N.c)(this,L),(h=i.call(this,"phone","phone")).params=W,h}return(0,I.d)(L,[{key:"_getIdTokenResponse",value:function(W){return function(W,i){return Ui.apply(this,arguments)}(W,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(W,i){return function(W,i){return di.apply(this,arguments)}(W,Object.assign({idToken:i},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(W){return function(W,i){return wi.apply(this,arguments)}(W,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var W=this.params,i=W.temporaryProof,L=W.phoneNumber,h=W.verificationId,l=W.verificationCode;return i&&L?{temporaryProof:i,phoneNumber:L}:{sessionInfo:h,code:l}}},{key:"toJSON",value:function(){var W={providerId:this.providerId};return this.params.phoneNumber&&(W.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(W.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(W.verificationCode=this.params.verificationCode),this.params.verificationId&&(W.verificationId=this.params.verificationId),W}}],[{key:"_fromVerification",value:function(W,i){return new L({verificationId:W,verificationCode:i})}},{key:"_fromTokenResponse",value:function(W,i){return new L({phoneNumber:W,temporaryProof:i})}},{key:"fromJSON",value:function(W){"string"===typeof W&&(W=JSON.parse(W));var i=W,h=i.verificationId,l=i.verificationCode,t=i.phoneNumber,p=i.temporaryProof;return l||h||t||p?new L({verificationId:h,verificationCode:l,phoneNumber:t,temporaryProof:p}):null}}]),L}(ci);var ni=function(){function W(i){var L,h,l,t,p,x;(0,N.c)(this,W);var R=X(T(i)),z=null!==(L=R.apiKey)&&void 0!==L?L:null,r=null!==(h=R.oobCode)&&void 0!==h?h:null,I=function(W){switch(W){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(l=R.mode)&&void 0!==l?l:null);lW(z&&r&&I,"argument-error"),this.apiKey=z,this.operation=I,this.code=r,this.continueUrl=null!==(t=R.continueUrl)&&void 0!==t?t:null,this.languageCode=null!==(p=R.languageCode)&&void 0!==p?p:null,this.tenantId=null!==(x=R.tenantId)&&void 0!==x?x:null}return(0,I.d)(W,null,[{key:"parseLink",value:function(i){var L=function(W){var i=X(T(W)).link,L=i?X(T(i)).deep_link_id:null,h=X(T(W)).deep_link_id;return(h?X(T(h)).link:null)||h||L||i||W}(i);try{return new W(L)}catch(W){return null}}}]),W}();var mi=function(){function W(){(0,N.c)(this,W),this.providerId=W.PROVIDER_ID}return(0,I.d)(W,null,[{key:"credential",value:function(W,i){return Xi._fromEmailAndPassword(W,i)}},{key:"credentialWithLink",value:function(W,i){var L=ni.parseLink(i);return lW(L,"argument-error"),Xi._fromEmailAndCode(W,L.code,L.tenantId)}}]),W}();mi.PROVIDER_ID="password",mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ei=function(){function W(i){(0,N.c)(this,W),this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}return(0,I.d)(W,[{key:"setDefaultLanguage",value:function(W){this.defaultLanguageCode=W}},{key:"setCustomParameters",value:function(W){return this.customParameters=W,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),W}(),Ki=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){var W;return(0,N.c)(this,L),(W=i.apply(this,arguments)).scopes=[],W}return(0,I.d)(L,[{key:"addScope",value:function(W){return this.scopes.includes(W)||this.scopes.push(W),this}},{key:"getScopes",value:function(){return(0,s.d)(this.scopes)}}]),L}(Ei),Gi=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){return(0,N.c)(this,L),i.call(this,"facebook.com")}return(0,I.d)(L,null,[{key:"credential",value:function(W){return qi._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.FACEBOOK_SIGN_IN_METHOD,accessToken:W})}},{key:"credentialFromResult",value:function(W){return L.credentialFromTaggedObject(W)}},{key:"credentialFromError",value:function(W){return L.credentialFromTaggedObject(W.customData||{})}},{key:"credentialFromTaggedObject",value:function(W){var i=W._tokenResponse;if(!i||!("oauthAccessToken"in i))return null;if(!i.oauthAccessToken)return null;try{return L.credential(i.oauthAccessToken)}catch(W){return null}}}]),L}(Ki);Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gi.PROVIDER_ID="facebook.com";var ui=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){var W;return(0,N.c)(this,L),(W=i.call(this,"google.com")).addScope("profile"),W}return(0,I.d)(L,null,[{key:"credential",value:function(W,i){return qi._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.GOOGLE_SIGN_IN_METHOD,idToken:W,accessToken:i})}},{key:"credentialFromResult",value:function(W){return L.credentialFromTaggedObject(W)}},{key:"credentialFromError",value:function(W){return L.credentialFromTaggedObject(W.customData||{})}},{key:"credentialFromTaggedObject",value:function(W){var i=W._tokenResponse;if(!i)return null;var h=i.oauthIdToken,l=i.oauthAccessToken;if(!h&&!l)return null;try{return L.credential(h,l)}catch(W){return null}}}]),L}(Ki);ui.GOOGLE_SIGN_IN_METHOD="google.com",ui.PROVIDER_ID="google.com";var Ji=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){return(0,N.c)(this,L),i.call(this,"github.com")}return(0,I.d)(L,null,[{key:"credential",value:function(W){return qi._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.GITHUB_SIGN_IN_METHOD,accessToken:W})}},{key:"credentialFromResult",value:function(W){return L.credentialFromTaggedObject(W)}},{key:"credentialFromError",value:function(W){return L.credentialFromTaggedObject(W.customData||{})}},{key:"credentialFromTaggedObject",value:function(W){var i=W._tokenResponse;if(!i||!("oauthAccessToken"in i))return null;if(!i.oauthAccessToken)return null;try{return L.credential(i.oauthAccessToken)}catch(W){return null}}}]),L}(Ki);Ji.GITHUB_SIGN_IN_METHOD="github.com",Ji.PROVIDER_ID="github.com";var Ai=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){return(0,N.c)(this,L),i.call(this,"twitter.com")}return(0,I.d)(L,null,[{key:"credential",value:function(W,i){return qi._fromParams({providerId:L.PROVIDER_ID,signInMethod:L.TWITTER_SIGN_IN_METHOD,oauthToken:W,oauthTokenSecret:i})}},{key:"credentialFromResult",value:function(W){return L.credentialFromTaggedObject(W)}},{key:"credentialFromError",value:function(W){return L.credentialFromTaggedObject(W.customData||{})}},{key:"credentialFromTaggedObject",value:function(W){var i=W._tokenResponse;if(!i)return null;var h=i.oauthAccessToken,l=i.oauthTokenSecret;if(!h||!l)return null;try{return L.credential(h,l)}catch(W){return null}}}]),L}(Ki);Ai.TWITTER_SIGN_IN_METHOD="twitter.com",Ai.PROVIDER_ID="twitter.com";var vi=function(){function W(i){(0,N.c)(this,W),this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}return(0,I.d)(W,null,[{key:"_fromIdTokenResponse",value:function(){var i=(0,r.e)(S().mark((function i(L,h,l){var t,p,x,R,z=arguments;return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=z.length>3&&void 0!==z[3]&&z[3],i.next=3,YW._fromIdTokenResponse(L,l,t);case 3:return p=i.sent,x=Qi(l),R=new W({user:p,providerId:x,_tokenResponse:l,operationType:h}),i.abrupt("return",R);case 7:case"end":return i.stop()}}),i)})));return function(W,L,h){return i.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var i=(0,r.e)(S().mark((function i(L,h,l){var t;return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,L._updateTokensIfNecessary(l,!0);case 2:return t=Qi(l),i.abrupt("return",new W({user:L,providerId:t,_tokenResponse:l,operationType:h}));case 4:case"end":return i.stop()}}),i)})));return function(W,L,h){return i.apply(this,arguments)}}()}]),W}();function Qi(W){return W.providerId?W.providerId:"phoneNumber"in W?"phone":null}var Oi=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W,h,l,p){var x,R;return(0,N.c)(this,L),(x=i.call(this,h.code,h.message)).operationType=l,x.user=p,x.name="FirebaseError",Object.setPrototypeOf((0,t.e)(x),L.prototype),x.appName=W.name,x.code=h.code,x.tenantId=null!==(R=W.tenantId)&&void 0!==R?R:void 0,x.serverResponse=h.customData.serverResponse,x}return(0,I.d)(L,null,[{key:"_fromErrorAndOperation",value:function(W,i,h,l){return new L(W,i,h,l)}}]),L}(a);function Yi(W,i,L,h){return("reauthenticate"===i?L._getReauthenticationResolver(W):L._getIdTokenResponse(W)).catch((function(L){if(L.code==="auth/".concat("multi-factor-auth-required"))throw Oi._fromErrorAndOperation(W,L,i,h);throw L}))}function WL(W,i){return iL.apply(this,arguments)}function iL(){return iL=(0,r.e)(S().mark((function W(i,L){var h,l,t=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=t.length>2&&void 0!==t[2]&&t[2],W.t0=BW,W.t1=i,W.t2=L,W.t3=i.auth,W.next=7,i.getIdToken();case 7:return W.t4=W.sent,W.t5=W.t2._linkToIdToken.call(W.t2,W.t3,W.t4),W.t6=h,W.next=12,(0,W.t0)(W.t1,W.t5,W.t6);case 12:return l=W.sent,W.abrupt("return",vi._forOperation(i,"link",l));case 14:case"end":return W.stop()}}),W)}))),iL.apply(this,arguments)}function LL(W,i){return hL.apply(this,arguments)}function hL(){return hL=(0,r.e)(S().mark((function W(i,L){var h,l,t,p,x,R,z=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=z.length>2&&void 0!==z[2]&&z[2],l=i.auth,t="reauthenticate",W.prev=3,W.next=6,BW(i,Yi(l,t,L,i),h);case 6:return lW((p=W.sent).idToken,l,"internal-error"),lW(x=dW(p.idToken),l,"internal-error"),R=x.sub,lW(i.uid===R,l,"user-mismatch"),W.abrupt("return",vi._forOperation(i,t,p));case 15:throw W.prev=15,W.t0=W.catch(3),(null===W.t0||void 0===W.t0?void 0:W.t0.code)==="auth/".concat("user-not-found")&&Y(l,"user-mismatch"),W.t0;case 19:case"end":return W.stop()}}),W,null,[[3,15]])}))),hL.apply(this,arguments)}function lL(W,i){return tL.apply(this,arguments)}function tL(){return tL=(0,r.e)(S().mark((function W(i,L){var h,l,t,p,x=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=x.length>2&&void 0!==x[2]&&x[2],l="signIn",W.next=4,Yi(i,l,L);case 4:return t=W.sent,W.next=7,vi._fromIdTokenResponse(i,l,t);case 7:if(p=W.sent,h){W.next=11;break}return W.next=11,i._updateCurrentUser(p.user);case 11:return W.abrupt("return",p);case 12:case"end":return W.stop()}}),W)}))),tL.apply(this,arguments)}function pL(W,i,L,h){return H(W).onIdTokenChanged(i,L,h)}function xL(W){H(W).useDeviceLanguage()}function RL(W){return H(W).signOut()}function zL(W,i){return cW(W,"POST","/v2/accounts/mfaEnrollment:start",VW(W,i))}new WeakMap;var rL="__sak",NL=function(){function W(i,L){(0,N.c)(this,W),this.storage=i,this.type=L}return(0,I.d)(W,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rL,"1"),this.storage.removeItem(rL),Promise.resolve(!0)):Promise.resolve(!1)}catch(W){return Promise.resolve(!1)}}},{key:"_set",value:function(W,i){return this.storage.setItem(W,JSON.stringify(i)),Promise.resolve()}},{key:"_get",value:function(W){var i=this.storage.getItem(W);return Promise.resolve(i?JSON.parse(i):null)}},{key:"_remove",value:function(W){return this.storage.removeItem(W),Promise.resolve()}}]),W}();var IL=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){var W;return(0,N.c)(this,L),(W=i.call(this,window.localStorage,"LOCAL")).boundEventHandler=function(i,L){return W.onStorageEvent(i,L)},W.listeners={},W.localCache={},W.pollTimer=null,W.safariLocalStorageNotSynced=function(){var W=f();return pi(W)||Ii(W)}()&&function(){try{return!(!window||window===window.top)}catch(W){return!1}}(),W.fallbackToPolling=Di(),W._shouldAllowMigration=!0,W}return(0,I.d)(L,[{key:"forAllChangedKeys",value:function(W){for(var i=0,L=Object.keys(this.listeners);i<L.length;i++){var h=L[i],l=this.storage.getItem(h),t=this.localCache[h];l!==t&&W(h,t,l)}}},{key:"onStorageEvent",value:function(W){var i=this,L=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(W.key){var h=W.key;if(L?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var l=this.storage.getItem(h);if(W.newValue!==l)null!==W.newValue?this.storage.setItem(h,W.newValue):this.storage.removeItem(h);else if(this.localCache[h]===W.newValue&&!L)return}var t=function(){var W=i.storage.getItem(h);(L||i.localCache[h]!==W)&&i.notifyListeners(h,W)},p=this.storage.getItem(h);oi()&&p!==W.newValue&&W.newValue!==W.oldValue?setTimeout(t,10):t()}else this.forAllChangedKeys((function(W,L,h){i.notifyListeners(W,h)}))}},{key:"notifyListeners",value:function(W,i){this.localCache[W]=i;var L=this.listeners[W];if(L)for(var h=0,l=Array.from(L);h<l.length;h++){(0,l[h])(i?JSON.parse(i):i)}}},{key:"startPolling",value:function(){var W=this;this.stopPolling(),this.pollTimer=setInterval((function(){W.forAllChangedKeys((function(i,L,h){W.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:L,newValue:h}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(W,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[W]||(this.listeners[W]=new Set,this.localCache[W]=this.storage.getItem(W)),this.listeners[W].add(i)}},{key:"_removeListener",value:function(W,i){this.listeners[W]&&(this.listeners[W].delete(i),0===this.listeners[W].size&&delete this.listeners[W]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var W=(0,r.e)(S().mark((function W(i,t){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,h.d)((0,l.d)(L.prototype),"_set",this).call(this,i,t);case 2:this.localCache[i]=JSON.stringify(t);case 3:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"_get",value:function(){var W=(0,r.e)(S().mark((function W(i){var t;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,h.d)((0,l.d)(L.prototype),"_get",this).call(this,i);case 2:return t=W.sent,this.localCache[i]=JSON.stringify(t),W.abrupt("return",t);case 5:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_remove",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,h.d)((0,l.d)(L.prototype),"_remove",this).call(this,i);case 2:delete this.localCache[i];case 3:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()}]),L}(NL);IL.type="LOCAL";var sL=IL,oL=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(){return(0,N.c)(this,L),i.call(this,window.sessionStorage,"SESSION")}return(0,I.d)(L,[{key:"_addListener",value:function(W,i){}},{key:"_removeListener",value:function(W,i){}}]),L}(NL);oL.type="SESSION";var DL=oL;function SL(W){return Promise.all(W.map(function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,i;case 3:return L=W.sent,W.abrupt("return",{fulfilled:!0,value:L});case 7:return W.prev=7,W.t0=W.catch(0),W.abrupt("return",{fulfilled:!1,reason:W.t0});case 10:case"end":return W.stop()}}),W,null,[[0,7]])})));return function(i){return W.apply(this,arguments)}}()))}var CL=function(){function W(i){(0,N.c)(this,W),this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,I.d)(W,[{key:"isListeningto",value:function(W){return this.eventTarget===W}},{key:"handleEvent",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h,l,t,p,x,R,z;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(h=(L=i).data,l=h.eventId,t=h.eventType,p=h.data,null===(x=this.handlersMap[t])||void 0===x?void 0:x.size){W.next=5;break}return W.abrupt("return");case 5:return L.ports[0].postMessage({status:"ack",eventId:l,eventType:t}),R=Array.from(x).map(function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",i(L.origin,p));case 1:case"end":return W.stop()}}),W)})));return function(i){return W.apply(this,arguments)}}()),W.next=9,SL(R);case 9:z=W.sent,L.ports[0].postMessage({status:"done",eventId:l,eventType:t,response:z});case 11:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_subscribe",value:function(W,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[W]||(this.handlersMap[W]=new Set),this.handlersMap[W].add(i)}},{key:"_unsubscribe",value:function(W,i){this.handlersMap[W]&&i&&this.handlersMap[W].delete(i),i&&0!==this.handlersMap[W].size||delete this.handlersMap[W],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(i){var L=this.receivers.find((function(W){return W.isListeningto(i)}));if(L)return L;var h=new W(i);return this.receivers.push(h),h}}]),W}();function eL(){for(var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,L="",h=0;h<i;h++)L+=Math.floor(10*Math.random());return W+L}CL.receivers=[];var VL=function(){function W(i){(0,N.c)(this,W),this.target=i,this.handlers=new Set}return(0,I.d)(W,[{key:"removeMessageHandler",value:function(W){W.messageChannel&&(W.messageChannel.port1.removeEventListener("message",W.onMessage),W.messageChannel.port1.close()),this.handlers.delete(W)}},{key:"_send",value:function(){var W=(0,r.e)(S().mark((function W(i,L){var h,l,t,p,x=this,R=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(h=R.length>2&&void 0!==R[2]?R[2]:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null){W.next=4;break}throw new Error("connection_unavailable");case 4:return W.abrupt("return",new Promise((function(W,R){var z=eL("",20);l.port1.start();var r=setTimeout((function(){R(new Error("unsupported_event"))}),h);p={messageChannel:l,onMessage:function(i){var L=i;if(L.data.eventId===z)switch(L.data.status){case"ack":clearTimeout(r),t=setTimeout((function(){R(new Error("timeout"))}),3e3);break;case"done":clearTimeout(t),W(L.data.response);break;default:clearTimeout(r),clearTimeout(t),R(new Error("invalid_response"))}}},x.handlers.add(p),l.port1.addEventListener("message",p.onMessage),x.target.postMessage({eventType:i,eventId:z,data:L},[l.port2])})).finally((function(){p&&x.removeMessageHandler(p)})));case 5:case"end":return W.stop()}}),W)})));return function(i,L){return W.apply(this,arguments)}}()}]),W}();function cL(){return window}function fL(){return"undefined"!==typeof cL().WorkerGlobalScope&&"function"===typeof cL().importScripts}function aL(){return PL.apply(this,arguments)}function PL(){return(PL=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){W.next=2;break}return W.abrupt("return",null);case 2:return W.prev=2,W.next=5,navigator.serviceWorker.ready;case 5:return i=W.sent,W.abrupt("return",i.active);case 9:return W.prev=9,W.t0=W.catch(2),W.abrupt("return",null);case 12:case"end":return W.stop()}}),W,null,[[2,9]])})))).apply(this,arguments)}function yL(){var W;return(null===(W=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===W?void 0:W.controller)||null}var ML="firebaseLocalStorageDb",bL="firebaseLocalStorage",jL="fbase_key",ZL=function(){function W(i){(0,N.c)(this,W),this.request=i}return(0,I.d)(W,[{key:"toPromise",value:function(){var W=this;return new Promise((function(i,L){W.request.addEventListener("success",(function(){i(W.request.result)})),W.request.addEventListener("error",(function(){L(W.request.error)}))}))}}]),W}();function XL(W,i){return W.transaction([bL],i?"readwrite":"readonly").objectStore(bL)}function TL(){var W=indexedDB.deleteDatabase(ML);return new ZL(W).toPromise()}function FL(){var W=indexedDB.open(ML,1);return new Promise((function(i,L){W.addEventListener("error",(function(){L(W.error)})),W.addEventListener("upgradeneeded",(function(){var i=W.result;try{i.createObjectStore(bL,{keyPath:jL})}catch(W){L(W)}})),W.addEventListener("success",(0,r.e)(S().mark((function L(){var h;return S().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:if((h=W.result).objectStoreNames.contains(bL)){L.next=12;break}return h.close(),L.next=5,TL();case 5:return L.t0=i,L.next=8,FL();case 8:L.t1=L.sent,(0,L.t0)(L.t1),L.next=13;break;case 12:i(h);case 13:case"end":return L.stop()}}),L)}))))}))}function qL(W,i,L){return HL.apply(this,arguments)}function HL(){return(HL=(0,r.e)(S().mark((function W(i,L,h){var l,t;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return t=XL(i,!0).put((l={},(0,o.b)(l,jL,L),(0,o.b)(l,"value",h),l)),W.abrupt("return",new ZL(t).toPromise());case 2:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function kL(W,i){return UL.apply(this,arguments)}function UL(){return(UL=(0,r.e)(S().mark((function W(i,L){var h,l;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=XL(i,!1).get(L),W.next=3,new ZL(h).toPromise();case 3:return l=W.sent,W.abrupt("return",void 0===l?null:l.value);case 5:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function dL(W,i){var L=XL(W,!0).delete(i);return new ZL(L).toPromise()}var BL=function(){function W(){(0,N.c)(this,W),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,I.d)(W,[{key:"_openDb",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!this.db){W.next=2;break}return W.abrupt("return",this.db);case 2:return W.next=4,FL();case 4:return this.db=W.sent,W.abrupt("return",this.db);case 6:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:L=0;case 1:return W.prev=2,W.next=5,this._openDb();case 5:return h=W.sent,W.next=8,i(h);case 8:return W.abrupt("return",W.sent);case 11:if(W.prev=11,W.t0=W.catch(2),!(L++>3)){W.next=15;break}throw W.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:W.next=1;break;case 18:case"end":return W.stop()}}),W,this,[[2,11]])})));return function(i){return W.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",fL()?this.initializeReceiver():this.initializeSender());case 1:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var W=(0,r.e)(S().mark((function W(){var i=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:this.receiver=CL._getInstance(fL()?self:null),this.receiver._subscribe("keyChanged",function(){var W=(0,r.e)(S().mark((function W(L,h){var l;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,i._poll();case 2:return l=W.sent,W.abrupt("return",{keyProcessed:l.includes(h.key)});case 4:case"end":return W.stop()}}),W)})));return function(i,L){return W.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var W=(0,r.e)(S().mark((function W(i,L){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",["keyChanged"]);case 1:case"end":return W.stop()}}),W)})));return function(i,L){return W.apply(this,arguments)}}());case 3:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var W=(0,r.e)(S().mark((function W(){var i,L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,aL();case 2:if(this.activeServiceWorker=W.sent,this.activeServiceWorker){W.next=5;break}return W.abrupt("return");case 5:return this.sender=new VL(this.activeServiceWorker),W.next=8,this.sender._send("ping",{},800);case 8:if(h=W.sent){W.next=11;break}return W.abrupt("return");case 11:(null===(i=h[0])||void 0===i?void 0:i.fulfilled)&&(null===(L=h[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(this.sender&&this.activeServiceWorker&&yL()===this.activeServiceWorker){W.next=2;break}return W.abrupt("return");case 2:return W.prev=2,W.next=5,this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50);case 5:W.next=9;break;case 7:W.prev=7,W.t0=W.catch(2);case 9:case"end":return W.stop()}}),W,this,[[2,7]])})));return function(i){return W.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var W=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(W.prev=0,indexedDB){W.next=3;break}return W.abrupt("return",!1);case 3:return W.next=5,FL();case 5:return i=W.sent,W.next=8,qL(i,rL,"1");case 8:return W.next=10,dL(i,rL);case 10:return W.abrupt("return",!0);case 13:W.prev=13,W.t0=W.catch(0);case 15:return W.abrupt("return",!1);case 16:case"end":return W.stop()}}),W,null,[[0,13]])})));return function(){return W.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var W=(0,r.e)(S().mark((function W(i){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return this.pendingWrites++,W.prev=1,W.next=4,i();case 4:return W.prev=4,this.pendingWrites--,W.finish(4);case 7:case"end":return W.stop()}}),W,this,[[1,,4,7]])})));return function(i){return W.apply(this,arguments)}}()},{key:"_set",value:function(){var W=(0,r.e)(S().mark((function W(i,L){var h=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",this._withPendingWrite((0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,h._withRetries((function(W){return qL(W,i,L)}));case 2:return h.localCache[i]=L,W.abrupt("return",h.notifyServiceWorker(i));case 4:case"end":return W.stop()}}),W)})))));case 1:case"end":return W.stop()}}),W,this)})));return function(i,L){return W.apply(this,arguments)}}()},{key:"_get",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._withRetries((function(W){return kL(W,i)}));case 2:return L=W.sent,this.localCache[i]=L,W.abrupt("return",L);case 5:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_remove",value:function(){var W=(0,r.e)(S().mark((function W(i){var L=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",this._withPendingWrite((0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,L._withRetries((function(W){return dL(W,i)}));case 2:return delete L.localCache[i],W.abrupt("return",L.notifyServiceWorker(i));case 4:case"end":return W.stop()}}),W)})))));case 1:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_poll",value:function(){var W=(0,r.e)(S().mark((function W(){var i,L,h,l,t,p,x,z,r,N,I;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._withRetries((function(W){var i=XL(W,!1).getAll();return new ZL(i).toPromise()}));case 2:if(i=W.sent){W.next=5;break}return W.abrupt("return",[]);case 5:if(0===this.pendingWrites){W.next=7;break}return W.abrupt("return",[]);case 7:L=[],h=new Set,l=(0,R.d)(i);try{for(l.s();!(t=l.n()).done;)p=t.value,x=p.fbase_key,z=p.value,h.add(x),JSON.stringify(this.localCache[x])!==JSON.stringify(z)&&(this.notifyListeners(x,z),L.push(x))}catch(W){l.e(W)}finally{l.f()}for(r=0,N=Object.keys(this.localCache);r<N.length;r++)I=N[r],this.localCache[I]&&!h.has(I)&&(this.notifyListeners(I,null),L.push(I));return W.abrupt("return",L);case 13:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"notifyListeners",value:function(W,i){this.localCache[W]=i;var L=this.listeners[W];if(L)for(var h=0,l=Array.from(L);h<l.length;h++){(0,l[h])(i)}}},{key:"startPolling",value:function(){var W=this;this.stopPolling(),this.pollTimer=setInterval((0,r.e)(S().mark((function i(){return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",W._poll());case 1:case"end":return i.stop()}}),i)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(W,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[W]||(this.listeners[W]=new Set,this._get(W)),this.listeners[W].add(i)}},{key:"_removeListener",value:function(W,i){this.listeners[W]&&(this.listeners[W].delete(i),0===this.listeners[W].size&&delete this.listeners[W]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),W}();BL.type="LOCAL";var wL=BL;function gL(W,i){return cW(W,"POST","/v2/accounts/mfaSignIn:start",VW(W,i))}function nL(W){return new Promise((function(i,L){var h=document.createElement("script");h.setAttribute("src",W),h.onload=i,h.onerror=function(W){var i=WW("internal-error");i.customData=W,L(i)},h.type="text/javascript",h.charset="UTF-8",function(){var W,i;return null!==(i=null===(W=document.getElementsByTagName("head"))||void 0===W?void 0:W[0])&&void 0!==i?i:document}().appendChild(h)}))}function mL(W){return"__".concat(W).concat(Math.floor(1e6*Math.random()))}mL("rcb"),new oW(3e4,6e4);var EL="recaptcha";function KL(W,i,L){return GL.apply(this,arguments)}function GL(){return(GL=(0,r.e)(S().mark((function W(i,L,h){var l,t,p,x,R,z,r,N,I;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,h.verify();case 2:if(t=W.sent,W.prev=3,lW("string"===typeof t,i,"argument-error"),lW(h.type===EL,i,"argument-error"),!("session"in(p="string"===typeof L?{phoneNumber:L}:L))){W.next=26;break}if(x=p.session,!("phoneNumber"in p)){W.next=17;break}return lW("enroll"===x.type,i,"internal-error"),W.next=13,zL(i,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:p.phoneNumber,recaptchaToken:t}});case 13:return R=W.sent,W.abrupt("return",R.phoneSessionInfo.sessionInfo);case 17:return lW("signin"===x.type,i,"internal-error"),lW(z=(null===(l=p.multiFactorHint)||void 0===l?void 0:l.uid)||p.multiFactorUid,i,"missing-multi-factor-info"),W.next=22,gL(i,{mfaPendingCredential:x.credential,mfaEnrollmentId:z,phoneSignInInfo:{recaptchaToken:t}});case 22:return r=W.sent,W.abrupt("return",r.phoneResponseInfo.sessionInfo);case 24:W.next=31;break;case 26:return W.next=28,Hi(i,{phoneNumber:p.phoneNumber,recaptchaToken:t});case 28:return N=W.sent,I=N.sessionInfo,W.abrupt("return",I);case 31:return W.prev=31,h._reset(),W.finish(31);case 34:case"end":return W.stop()}}),W,null,[[3,,31,34]])})))).apply(this,arguments)}var uL=function(){function W(i){(0,N.c)(this,W),this.providerId=W.PROVIDER_ID,this.auth=ei(i)}return(0,I.d)(W,[{key:"verifyPhoneNumber",value:function(W,i){return KL(this.auth,W,H(i))}}],[{key:"credential",value:function(W,i){return gi._fromVerification(W,i)}},{key:"credentialFromResult",value:function(i){var L=i;return W.credentialFromTaggedObject(L)}},{key:"credentialFromError",value:function(i){return W.credentialFromTaggedObject(i.customData||{})}},{key:"credentialFromTaggedObject",value:function(W){var i=W._tokenResponse;if(!i)return null;var L=i.phoneNumber,h=i.temporaryProof;return L&&h?gi._fromTokenResponse(L,h):null}}]),W}();function JL(W,i){return i?RW(i):(lW(W._popupRedirectResolver,W,"argument-error"),W._popupRedirectResolver)}uL.PROVIDER_ID="phone",uL.PHONE_SIGN_IN_METHOD="phone";var AL=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W){var h;return(0,N.c)(this,L),(h=i.call(this,"custom","custom")).params=W,h}return(0,I.d)(L,[{key:"_getIdTokenResponse",value:function(W){return Ti(W,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(W,i){return Ti(W,this._buildIdpRequest(i))}},{key:"_getReauthenticationResolver",value:function(W){return Ti(W,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(W){var i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return W&&(i.idToken=W),i}}]),L}(ci);function vL(W){return lL(W.auth,new AL(W),W.bypassAuthState)}function QL(W){var i=W.auth,L=W.user;return lW(L,i,"internal-error"),LL(L,new AL(W),W.bypassAuthState)}function OL(W){return YL.apply(this,arguments)}function YL(){return(YL=(0,r.e)(S().mark((function W(i){var L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=i.auth,lW(h=i.user,L,"internal-error"),W.abrupt("return",WL(h,new AL(i),i.bypassAuthState));case 3:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var Wh=function(){function W(i,L,h,l){var t=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,N.c)(this,W),this.auth=i,this.resolver=h,this.user=l,this.bypassAuthState=t,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(L)?L:[L]}return(0,I.d)(W,[{key:"execute",value:function(){var W=this;return new Promise(function(){var i=(0,r.e)(S().mark((function i(L,h){return S().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return W.pendingPromise={resolve:L,reject:h},i.prev=1,i.next=4,W.resolver._initialize(W.auth);case 4:return W.eventManager=i.sent,i.next=7,W.onExecution();case 7:W.eventManager.registerConsumer(W),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),W.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(W,L){return i.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h,l,t,p,x,R;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(L=i.urlResponse,h=i.sessionId,l=i.postBody,t=i.tenantId,p=i.error,x=i.type,!p){W.next=4;break}return this.reject(p),W.abrupt("return");case 4:return R={auth:this.auth,requestUri:L,sessionId:h,tenantId:t||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState},W.prev=5,W.t0=this,W.next=9,this.getIdpTask(x)(R);case 9:W.t1=W.sent,W.t0.resolve.call(W.t0,W.t1),W.next=16;break;case 13:W.prev=13,W.t2=W.catch(5),this.reject(W.t2);case 16:case"end":return W.stop()}}),W,this,[[5,13]])})));return function(i){return W.apply(this,arguments)}}()},{key:"onError",value:function(W){this.reject(W)}},{key:"getIdpTask",value:function(W){switch(W){case"signInViaPopup":case"signInViaRedirect":return vL;case"linkViaPopup":case"linkViaRedirect":return OL;case"reauthViaPopup":case"reauthViaRedirect":return QL;default:Y(this.auth,"internal-error")}}},{key:"resolve",value:function(W){pW(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(W),this.unregisterAndCleanUp()}},{key:"reject",value:function(W){pW(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(W),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),W}(),ih=new oW(2e3,1e4);function Lh(W,i,L){return hh.apply(this,arguments)}function hh(){return(hh=(0,r.e)(S().mark((function W(i,L,h){var l,t,p;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return l=ei(i),LW(i,L,Ei),t=JL(l,h),p=new lh(l,"signInViaPopup",L,t),W.abrupt("return",p.executeNotNull());case 5:case"end":return W.stop()}}),W)})))).apply(this,arguments)}var lh=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W,h,l,p,x){var R;return(0,N.c)(this,L),(R=i.call(this,W,h,p,x)).provider=l,R.authWindow=null,R.pollId=null,L.currentPopupAction&&L.currentPopupAction.cancel(),L.currentPopupAction=(0,t.e)(R),R}return(0,I.d)(L,[{key:"executeNotNull",value:function(){var W=(0,r.e)(S().mark((function W(){var i;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.execute();case 2:return lW(i=W.sent,this.auth,"internal-error"),W.abrupt("return",i);case 5:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"onExecution",value:function(){var W=(0,r.e)(S().mark((function W(){var i,L=this;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return pW(1===this.filter.length,"Popup operations only handle one event"),i=eL(),W.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],i);case 4:this.authWindow=W.sent,this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch((function(W){L.reject(W)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(W){W||L.reject(WW(L.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return W.stop()}}),W,this)})));return function(){return W.apply(this,arguments)}}()},{key:"eventId",get:function(){var W;return(null===(W=this.authWindow)||void 0===W?void 0:W.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(WW(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,L.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var W=this;!function i(){var L,h;(null===(h=null===(L=W.authWindow)||void 0===L?void 0:L.window)||void 0===h?void 0:h.closed)?W.pollId=window.setTimeout((function(){W.pollId=null,W.reject(WW(W.auth,"popup-closed-by-user"))}),2e3):W.pollId=window.setTimeout(i,ih.get())}()}}]),L}(Wh);lh.currentPopupAction=null;var th=new Map,ph=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W,h){var l,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,N.c)(this,L),(l=i.call(this,W,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,t)).eventId=null,l}return(0,I.d)(L,[{key:"execute",value:function(){var W=(0,r.e)(S().mark((function W(){var i,t;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(i=th.get(this.auth._key())){W.next=21;break}return W.prev=2,W.next=5,xh(this.resolver,this.auth);case 5:if(!W.sent){W.next=12;break}return W.next=9,(0,h.d)((0,l.d)(L.prototype),"execute",this).call(this);case 9:W.t0=W.sent,W.next=13;break;case 12:W.t0=null;case 13:t=W.t0,i=function(){return Promise.resolve(t)},W.next=20;break;case 17:W.prev=17,W.t1=W.catch(2),i=function(){return Promise.reject(W.t1)};case 20:th.set(this.auth._key(),i);case 21:return W.abrupt("return",i());case 22:case"end":return W.stop()}}),W,this,[[2,17]])})));return function(){return W.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var W=(0,r.e)(S().mark((function W(i){var t;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if("signInViaRedirect"!==i.type){W.next=4;break}return W.abrupt("return",(0,h.d)((0,l.d)(L.prototype),"onAuthEvent",this).call(this,i));case 4:if("unknown"!==i.type){W.next=7;break}return this.resolve(null),W.abrupt("return");case 7:if(!i.eventId){W.next=17;break}return W.next=10,this.auth._redirectUserForId(i.eventId);case 10:if(!(t=W.sent)){W.next=16;break}return this.user=t,W.abrupt("return",(0,h.d)((0,l.d)(L.prototype),"onAuthEvent",this).call(this,i));case 16:this.resolve(null);case 17:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"onExecution",value:function(){var W=(0,r.e)(S().mark((function W(){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:case"end":return W.stop()}}),W)})));return function(){return W.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),L}(Wh);function xh(W,i){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,r.e)(S().mark((function W(i,L){var h,l;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=rh(L),W.next=3,zh(i)._get(h);case 3:return W.t0=W.sent,l="true"===W.t0,W.next=7,zh(i)._remove(h);case 7:return W.abrupt("return",l);case 8:case"end":return W.stop()}}),W)})))).apply(this,arguments)}function zh(W){return RW(W._redirectPersistence)}function rh(W){return Li("pendingRedirect",W.config.apiKey,W.name)}function Nh(W,i){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,r.e)(S().mark((function W(i,L){var h,l,t,p,x,R=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return h=R.length>2&&void 0!==R[2]&&R[2],l=ei(i),t=JL(l,L),p=new ph(l,t,h),W.next=6,p.execute();case 6:if(!(x=W.sent)||h){W.next=13;break}return delete x.user._redirectEventId,W.next=11,l._persistUserIfCurrent(x.user);case 11:return W.next=13,l._setRedirectUser(null,L);case 13:return W.abrupt("return",x);case 14:case"end":return W.stop()}}),W)}))),Ih.apply(this,arguments)}var sh=function(){function W(i){(0,N.c)(this,W),this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,I.d)(W,[{key:"registerConsumer",value:function(W){this.consumers.add(W),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,W)&&(this.sendToConsumer(this.queuedRedirectEvent,W),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(W){this.consumers.delete(W)}},{key:"onEvent",value:function(W){var i=this;if(this.hasEventBeenHandled(W))return!1;var L=!1;return this.consumers.forEach((function(h){i.isEventForConsumer(W,h)&&(L=!0,i.sendToConsumer(W,h),i.saveEventToCache(W))})),this.hasHandledPotentialRedirect||!function(W){switch(W.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dh(W);default:return!1}}(W)||(this.hasHandledPotentialRedirect=!0,L||(this.queuedRedirectEvent=W,L=!0)),L}},{key:"sendToConsumer",value:function(W,i){var L;if(W.error&&!Dh(W)){var h=(null===(L=W.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";i.onError(WW(this.auth,h))}else i.onAuthEvent(W)}},{key:"isEventForConsumer",value:function(W,i){var L=null===i.eventId||!!W.eventId&&W.eventId===i.eventId;return i.filter.includes(W.type)&&L}},{key:"hasEventBeenHandled",value:function(W){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oh(W))}},{key:"saveEventToCache",value:function(W){this.cachedEventUids.add(oh(W)),this.lastProcessedEventTime=Date.now()}}]),W}();function oh(W){return[W.type,W.eventId,W.sessionId,W.tenantId].filter((function(W){return W})).join("-")}function Dh(W){var i=W.type,L=W.error;return"unknown"===i&&(null===L||void 0===L?void 0:L.code)==="auth/".concat("no-auth-event")}function Sh(W){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,r.e)(S().mark((function W(i){var L,h=arguments;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return L=h.length>1&&void 0!==h[1]?h[1]:{},W.abrupt("return",cW(i,"GET","/v1/projects",L));case 2:case"end":return W.stop()}}),W)}))),Ch.apply(this,arguments)}var eh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vh=/^https?/;function ch(){return(ch=(0,r.e)(S().mark((function W(i){var L,h,l,t,p;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:if(!i.config.emulator){W.next=2;break}return W.abrupt("return");case 2:return W.next=4,Sh(i);case 4:L=W.sent,h=L.authorizedDomains,l=(0,R.d)(h),W.prev=7,l.s();case 9:if((t=l.n()).done){W.next=20;break}if(p=t.value,W.prev=11,!fh(p)){W.next=14;break}return W.abrupt("return");case 14:W.next=18;break;case 16:W.prev=16,W.t0=W.catch(11);case 18:W.next=9;break;case 20:W.next=25;break;case 22:W.prev=22,W.t1=W.catch(7),l.e(W.t1);case 25:return W.prev=25,l.f(),W.finish(25);case 28:Y(i,"unauthorized-domain");case 29:case"end":return W.stop()}}),W,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function fh(W){var i=rW(),L=new URL(i),h=L.protocol,l=L.hostname;if(W.startsWith("chrome-extension://")){var t=new URL(W);return""===t.hostname&&""===l?"chrome-extension:"===h&&W.replace("chrome-extension://","")===i.replace("chrome-extension://",""):"chrome-extension:"===h&&t.hostname===l}if(!Vh.test(h))return!1;if(eh.test(W))return l===W;var p=W.replace(/\./g,"\\.");return new RegExp("^(.+\\."+p+"|"+p+")$","i").test(l)}var ah=new oW(3e4,6e4);function Ph(){var W=cL().___jsl;if(null===W||void 0===W?void 0:W.H)for(var i=0,L=Object.keys(W.H);i<L.length;i++){var h=L[i];if(W.H[h].r=W.H[h].r||[],W.H[h].L=W.H[h].L||[],W.H[h].r=(0,s.d)(W.H[h].L),W.CP)for(var l=0;l<W.CP.length;l++)W.CP[l]=null}}var yh=null;function Mh(W){return yh=yh||function(W){return new Promise((function(i,L){var h,l,t;function p(){Ph(),gapi.load("gapi.iframes",{callback:function(){i(gapi.iframes.getContext())},ontimeout:function(){Ph(),L(WW(W,"network-request-failed"))},timeout:ah.get()})}if(null===(l=null===(h=cL().gapi)||void 0===h?void 0:h.iframes)||void 0===l?void 0:l.Iframe)i(gapi.iframes.getContext());else{if(!(null===(t=cL().gapi)||void 0===t?void 0:t.load)){var x=mL("iframefcb");return cL()[x]=function(){gapi.load?p():L(WW(W,"network-request-failed"))},nL("https://apis.google.com/js/api.js?onload=".concat(x))}p()}})).catch((function(W){throw yh=null,W}))}(W),yh}var bh=new oW(5e3,15e3),jh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Zh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xh(W){var i=W.config;lW(i.authDomain,W,"auth-domain-config-required");var L=i.emulator?DW(i,"emulator/auth/iframe"):"https://".concat(W.config.authDomain,"/").concat("__/auth/iframe"),h={apiKey:i.apiKey,appName:W.name,v:k.d},l=Zh.get(W.config.apiHost);l&&(h.eid=l);var t=W._getFrameworks();return t.length&&(h.fw=t.join(",")),"".concat(L,"?").concat(Z(h).slice(1))}function Th(W){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,r.e)(S().mark((function W(i){var L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,Mh(i);case 2:return L=W.sent,lW(h=cL().gapi,i,"internal-error"),W.abrupt("return",L.open({where:document.body,url:Xh(i),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jh,dontclear:!0},(function(W){return new Promise(function(){var L=(0,r.e)(S().mark((function L(h,l){var t,p,x;return S().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:return x=function(){cL().clearTimeout(p),h(W)},L.next=3,W.restyle({setHideOnLeave:!1});case 3:t=WW(i,"network-request-failed"),p=cL().setTimeout((function(){l(t)}),bh.get()),W.ping(x).then(x,(function(){l(t)}));case 6:case"end":return L.stop()}}),L)})));return function(W,i){return L.apply(this,arguments)}}())})));case 6:case"end":return W.stop()}}),W)}))),Fh.apply(this,arguments)}var qh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hh="_blank",kh="http://localhost",Uh=function(){function W(i){(0,N.c)(this,W),this.window=i,this.associatedEvent=null}return(0,I.d)(W,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(W){}}}]),W}();function dh(W,i,L){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,t=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-h)/2,0).toString(),x="",R=Object.assign(Object.assign({},qh),{width:h.toString(),height:l.toString(),top:t,left:p}),r=f().toLowerCase();L&&(x=xi(r)?Hh:L),ti(r)&&(i=i||kh,R.scrollbars="yes");var N=Object.entries(R).reduce((function(W,i){var L=(0,z.d)(i,2),h=L[0],l=L[1];return"".concat(W).concat(h,"=").concat(l,",")}),"");if(si(r)&&"_self"!==x)return Bh(i||"",x),new Uh(null);var I=window.open(i||"",x,N);lW(I,W,"popup-blocked");try{I.focus()}catch(W){}return new Uh(I)}function Bh(W,i){var L=document.createElement("a");L.href=W,L.target=i;var h=document.createEvent("MouseEvent");h.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),L.dispatchEvent(h)}var wh="__/auth/handler",gh="emulator/auth/handler";function nh(W,i,L,h,l,t){lW(W.config.authDomain,W,"auth-domain-config-required"),lW(W.config.apiKey,W,"invalid-api-key");var p={apiKey:W.config.apiKey,appName:W.name,authType:L,redirectUrl:h,v:k.d,eventId:l};if(i instanceof Ei){i.setDefaultLanguage(W.languageCode),p.providerId=i.providerId||"",function(W){for(var i in W)if(Object.prototype.hasOwnProperty.call(W,i))return!1;return!0}(i.getCustomParameters())||(p.customParameters=JSON.stringify(i.getCustomParameters()));for(var x=0,R=Object.entries(t||{});x<R.length;x++){var r=(0,z.d)(R[x],2),N=r[0],I=r[1];p[N]=I}}if(i instanceof Ki){var s=i.getScopes().filter((function(W){return""!==W}));s.length>0&&(p.scopes=s.join(","))}W.tenantId&&(p.tid=W.tenantId);for(var o=p,D=0,S=Object.keys(o);D<S.length;D++){var C=S[D];void 0===o[C]&&delete o[C]}return"".concat(function(W){var i=W.config;if(!i.emulator)return"https://".concat(i.authDomain,"/").concat(wh);return DW(i,gh)}(W),"?").concat(Z(o).slice(1))}var mh="webStorageSupport",Eh=function(){function W(){(0,N.c)(this,W),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DL,this._completeRedirectFn=Nh}return(0,I.d)(W,[{key:"_openPopup",value:function(){var W=(0,r.e)(S().mark((function W(i,L,h,l){var t,p;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return pW(null===(t=this.eventManagers[i._key()])||void 0===t?void 0:t.manager,"_initialize() not called before _openPopup()"),p=nh(i,L,h,rW(),l),W.abrupt("return",dh(i,p,eL()));case 3:case"end":return W.stop()}}),W,this)})));return function(i,L,h,l){return W.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var W=(0,r.e)(S().mark((function W(i,L,h,l){return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this._originValidation(i);case 2:return t=nh(i,L,h,rW(),l),cL().location.href=t,W.abrupt("return",new Promise((function(){})));case 4:case"end":return W.stop()}var t}),W,this)})));return function(i,L,h,l){return W.apply(this,arguments)}}()},{key:"_initialize",value:function(W){var i=W._key();if(this.eventManagers[i]){var L=this.eventManagers[i],h=L.manager,l=L.promise;return h?Promise.resolve(h):(pW(l,"If manager is not set, promise should be"),l)}var t=this.initAndGetManager(W);return this.eventManagers[i]={promise:t},t}},{key:"initAndGetManager",value:function(){var W=(0,r.e)(S().mark((function W(i){var L,h;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,Th(i);case 2:return L=W.sent,h=new sh(i),L.register("authEvent",(function(W){return lW(null===W||void 0===W?void 0:W.authEvent,i,"invalid-auth-event"),{status:h.onEvent(W.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:h},this.iframes[i._key()]=L,W.abrupt("return",h);case 8:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(W,i){this.iframes[W._key()].send(mh,{type:mh},(function(L){var h,l=null===(h=null===L||void 0===L?void 0:L[0])||void 0===h?void 0:h.webStorageSupport;void 0!==l&&i(!!l),Y(W,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(W){var i=W._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=function(W){return ch.apply(this,arguments)}(W)),this.originValidationPromises[i]}},{key:"_shouldInitProactively",get:function(){return Di()||pi()||Ii()}}]),W}(),Kh=Eh,Gh=function(W){(0,p.c)(L,W);var i=(0,x.c)(L);function L(W){var h;return(0,N.c)(this,L),(h=i.call(this,"phone")).credential=W,h}return(0,I.d)(L,[{key:"_finalizeEnroll",value:function(W,i,L){return function(W,i){return cW(W,"POST","/v2/accounts/mfaEnrollment:finalize",VW(W,i))}(W,{idToken:i,displayName:L,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(W,i){return function(W,i){return cW(W,"POST","/v2/accounts/mfaSignIn:finalize",VW(W,i))}(W,{mfaPendingCredential:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(W){return new L(W)}}]),L}(function(){function W(i){(0,N.c)(this,W),this.factorId=i}return(0,I.d)(W,[{key:"_process",value:function(W,i,L){switch(i.type){case"enroll":return this._finalizeEnroll(W,i.credential,L);case"signin":return this._finalizeSignIn(W,i.credential);default:return tW("unexpected MultiFactorSessionType")}}}]),W}());(function(){function W(){(0,N.c)(this,W)}return(0,I.d)(W,null,[{key:"assertion",value:function(W){return Gh._fromCredential(W)}}]),W}()).FACTOR_ID="phone";var uh,Jh="@firebase/auth",Ah="0.18.3",vh=function(){function W(i){(0,N.c)(this,W),this.auth=i,this.internalListeners=new Map}return(0,I.d)(W,[{key:"getUid",value:function(){var W;return this.assertAuthConfigured(),(null===(W=this.auth.currentUser)||void 0===W?void 0:W.uid)||null}},{key:"getToken",value:function(){var W=(0,r.e)(S().mark((function W(i){var L;return S().wrap((function(W){for(;;)switch(W.prev=W.next){case 0:return this.assertAuthConfigured(),W.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){W.next=5;break}return W.abrupt("return",null);case 5:return W.next=7,this.auth.currentUser.getIdToken(i);case 7:return L=W.sent,W.abrupt("return",{accessToken:L});case 9:case"end":return W.stop()}}),W,this)})));return function(i){return W.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(W){if(this.assertAuthConfigured(),!this.internalListeners.has(W)){var i=this.auth.onIdTokenChanged((function(i){var L;W((null===(L=i)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)}));this.internalListeners.set(W,i),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(W){this.assertAuthConfigured();var i=this.internalListeners.get(W);i&&(this.internalListeners.delete(W),i(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){lW(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),W}();function Qh(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.l)(),i=(0,k.h)(W,"auth");return i.isInitialized()?i.getImmediate():zW(W,{popupRedirectResolver:Kh,persistence:[wL,sL,DL]})}uh="Browser",(0,k.i)(new u.g("auth",(function(W,i){var L=i.options,h=W.getProvider("app").getImmediate(),l=h.options,t=l.apiKey,p=l.authDomain;return function(W){lW(t&&!t.includes(":"),"invalid-api-key",{appName:W.name}),lW(!(null===p||void 0===p?void 0:p.includes(":")),"argument-error",{appName:W.name});var i={apiKey:t,authDomain:p,clientPlatform:uh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Si(uh)},h=new Ci(W,i);return function(W,i){var L=(null===i||void 0===i?void 0:i.persistence)||[],h=(Array.isArray(L)?L:[L]).map(RW);(null===i||void 0===i?void 0:i.errorMap)&&W._updateErrorMap(i.errorMap),W._initializeWithPersistence(h,null===i||void 0===i?void 0:i.popupRedirectResolver)}(h,L),h}(h)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(W,i,L){W.getProvider("auth-internal").initialize()}))),(0,k.i)(new u.g("auth-internal",(function(W){return function(W){return new vh(W)}(ei(W.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.r)(Jh,Ah,function(W){switch(W){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uh)),(0,k.r)(Jh,Ah,"esm2017")},64890:function(W,i){!function(W){"use strict";function i(W){return Array.prototype.slice.call(W)}function L(W){return new Promise((function(i,L){W.onsuccess=function(){i(W.result)},W.onerror=function(){L(W.error)}}))}function h(W,i,h){var l,t=new Promise((function(t,p){L(l=W[i].apply(W,h)).then(t,p)}));return t.request=l,t}function l(W,i,L){var l=h(W,i,L);return l.then((function(W){if(W)return new r(W,l.request)}))}function t(W,i,L){L.forEach((function(L){Object.defineProperty(W.prototype,L,{get:function(){return this[i][L]},set:function(W){this[i][L]=W}})}))}function p(W,i,L,l){l.forEach((function(l){l in L.prototype&&(W.prototype[l]=function(){return h(this[i],l,arguments)})}))}function x(W,i,L,h){h.forEach((function(h){h in L.prototype&&(W.prototype[h]=function(){return this[i][h].apply(this[i],arguments)})}))}function R(W,i,L,h){h.forEach((function(h){h in L.prototype&&(W.prototype[h]=function(){return l(this[i],h,arguments)})}))}function z(W){this._index=W}function r(W,i){this._cursor=W,this._request=i}function N(W){this._store=W}function I(W){this._tx=W,this.complete=new Promise((function(i,L){W.oncomplete=function(){i()},W.onerror=function(){L(W.error)},W.onabort=function(){L(W.error)}}))}function s(W,i,L){this._db=W,this.oldVersion=i,this.transaction=new I(L)}function o(W){this._db=W}function D(W,i,L){var l=h(indexedDB,"open",[W,i]),t=l.request;return t&&(t.onupgradeneeded=function(W){L&&L(new s(t.result,W.oldVersion,t.transaction))}),l.then((function(W){return new o(W)}))}function S(W){return h(indexedDB,"deleteDatabase",[W])}t(z,"_index",["name","keyPath","multiEntry","unique"]),p(z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),R(z,"_index",IDBIndex,["openCursor","openKeyCursor"]),t(r,"_cursor",["direction","key","primaryKey","value"]),p(r,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(W){W in IDBCursor.prototype&&(r.prototype[W]=function(){var i=this,h=arguments;return Promise.resolve().then((function(){return i._cursor[W].apply(i._cursor,h),L(i._request).then((function(W){if(W)return new r(W,i._request)}))}))})})),N.prototype.createIndex=function(){return new z(this._store.createIndex.apply(this._store,arguments))},N.prototype.index=function(){return new z(this._store.index.apply(this._store,arguments))},t(N,"_store",["name","keyPath","indexNames","autoIncrement"]),p(N,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),R(N,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),x(N,"_store",IDBObjectStore,["deleteIndex"]),I.prototype.objectStore=function(){return new N(this._tx.objectStore.apply(this._tx,arguments))},t(I,"_tx",["objectStoreNames","mode"]),x(I,"_tx",IDBTransaction,["abort"]),s.prototype.createObjectStore=function(){return new N(this._db.createObjectStore.apply(this._db,arguments))},t(s,"_db",["name","version","objectStoreNames"]),x(s,"_db",IDBDatabase,["deleteObjectStore","close"]),o.prototype.transaction=function(){return new I(this._db.transaction.apply(this._db,arguments))},t(o,"_db",["name","version","objectStoreNames"]),x(o,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(W){[N,z].forEach((function(L){W in L.prototype&&(L.prototype[W.replace("open","iterate")]=function(){var L=i(arguments),h=L[L.length-1],l=this._store||this._index,t=l[W].apply(l,L.slice(0,-1));t.onsuccess=function(){h(t.result)}})}))})),[z,N].forEach((function(W){W.prototype.getAll||(W.prototype.getAll=function(W,i){var L=this,h=[];return new Promise((function(l){L.iterateCursor(W,(function(W){W?(h.push(W.value),void 0===i||h.length!=i?W.continue():l(h)):l(h)}))}))})})),W.openDb=D,W.deleteDb=S,Object.defineProperty(W,"__esModule",{value:!0})}(i)},11752:function(W,i,L){"use strict";L.d(i,{d:function(){return t}});var h=L(61120);function l(W,i){for(;!Object.prototype.hasOwnProperty.call(W,i)&&null!==(W=(0,h.d)(W)););return W}function t(){return t="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(W,i,L){var h=l(W,i);if(h){var t=Object.getOwnPropertyDescriptor(h,i);return t.get?t.get.call(arguments.length<3?W:L):t.value}},t.apply(this,arguments)}}}]);