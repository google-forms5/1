"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[715],{98715:function(W,i,L){L.r(i),L.d(i,{BloxdFirebase:function(){return s},initializeFirebase:function(){return I}});var h=L(15671),l=L(43144),t=L(32085),p=L(31172),x=L(20271),R=L(68206),z=L(71806),r=L(86103),N=!1;function I(){if(N)throw new Error("Firebase should only be initialised once");return N=!0,new s}var s=function(){function W(){(0,h.c)(this,W),this.failed=void 0,this.firebaseApp=void 0,this.analytics=void 0,this.auth=void 0,this.googleProvider=void 0,console.assert((0,r.o)(),"Firebase should only be initialised if it is enabled"),this.failed=!1,console.log("Current gamemode",(0,t.s)());var i={apiKey:"AIzaSyCJ-G6m_NyA3P021v-ugDmMmkcKysUebSE",authDomain:"bloxd-ee1aa.firebaseapp.com",projectId:"bloxd-ee1aa",storageBucket:"bloxd-ee1aa.appspot.com",messagingSenderId:"758847442742",appId:"1:758847442742:web:7bb74eb261641e30f02d97",measurementId:"G-DXF16YBENG"},L=i;this.firebaseApp=(0,x.d)(i),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",L,{send_page_view:!1}),window.gtag("config","AW-16469618203"),this.analytics=(0,R.d)();var l={portal:p.parse(document.location.search).portal||"root",loggedIn:!1};this.setUserProperties(l);try{this.auth=(0,z.i)(),(0,z.q)(this.auth),this.googleProvider=new z.e}catch(W){this.failed=!0,console.error("Failed to log in because firebase auth crashes when you cannot read from localstorage")}window.gtag("set",{cookie_flags:"SameSite=None;Secure"})}return(0,l.d)(W,[{key:"hasFailed",value:function(){return this.failed}},{key:"setUserProperties",value:function(W){this.failed||(0,R.e)(this.analytics,W)}},{key:"onIdTokenChanged",value:function(W){this.failed||(0,z.k)(this.auth,W)}},{key:"signOut",value:function(){if(!this.failed)return(0,z.o)(this.auth)}},{key:"signInWithPopup",value:function(W){if(!this.failed)return(0,z.m)(this.auth,W)}}]),W}()}}]);